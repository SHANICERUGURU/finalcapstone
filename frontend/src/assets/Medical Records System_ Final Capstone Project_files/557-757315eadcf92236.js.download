"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{1620:(e,t,r)=>{r.d(t,{CJ:()=>eG,ky:()=>eF,BG:()=>eO,ZC:()=>eH});var n=r(37243),a=r(41885),o=r(70375),i=r(50980),l=r(57398),d=r(82318),s=r(28548),c=r(91892),u=r(55153),g=r(83902),p=r(58497),m=r(99696),h=r(87140),b=r(79096),x=r(66607),C=r(1739),f=r(35623),j=r(43944),v=r(80045),y=r(98088),k=r(45574),S=r(25600),E=r(7631),w=r(71839),A=r(55427),D=r(77206),I=r(78135),_=r(95889),z=r(86812),N=r(64895),P=r(73326),V=r(33201),T=r(63867),R=r(97255);let M=new T.k_({props:{decorations:e=>{let{doc:t}=e,r=[],n=1;return t.descendants((e,t)=>{"card"===e.type.name&&(r.push(R.NZ.node(t,t+e.nodeSize,{},{number:n,isSectionCardPluginDecoration:!0})),n++)}),0==r.length?R.zF.empty:R.zF.create(t,r)}}}),W=e=>{let t=e.find(e=>e.spec.isSectionCardPluginDecoration);return t?t.spec:{number:0,isSectionCardPluginDecoration:!0}};var L=r(6029),O=r(46898),F=r(58959),G=r(48810),H=r(29810),U=r(49611),B=r(26420),Y=r(58297),K=r(40452),Z=r(16936),J=r(78140),Q=r(36999),q=r(12514),X=r(41283),$=r(85595),ee=r(6760),et=r(27229),er=r(94740),en=r(59272),ea=r(66199),eo=r(57405),ei=r(18078),el=r(25311),ed=r(61204),es=r(96500),ec=r(99492),eu=r(48621),eg=r(47412),ep=r(19564),em=r(77650),eh=r(55729),eb=r(3487),ex=r(83370),eC=r(68301),ef=r(5061),ej=r(15342),ev=r(74471),ey=r(216),ek=r(43216),eS=r(70703),eE=r(29608),ew=r(30892);let eA={r:235,g:248,b:255},eD={r:255,g:245,b:255},eI={r:107,g:70,b:193},e_={r:43,g:108,b:176},ez=(e,t,r,n)=>n?{bg:"gray.50",text:"gray.600"}:{bg:(0,ew.tV)(eA,eD,e/Math.min(r,t)),text:(0,ew.tV)(e_,eI,e/Math.min(r,t))},eN=e=>{let{decorations:t,editor:r,getPos:n}=e,a=(0,eh.useRef)(null),o=(0,_.st)(),i=(0,O.d)(),l=(0,eC.u)("dragHandleInOutlineEditor"),{number:d}=W(t),s=(0,ej.GV)(ex.yR),{maxCards:c,getUpgradeForCardCount:u}=(0,eb.Zq)(),g=u(d),p=d>c,m=d===s,h=ez(d,s,c,p),b=(0,eh.useCallback)(e=>{let t=n();if("number"!=typeof t)return;let a=r.view.state.doc.nodeAt(t);if(!a)return void console.error("[SectionCardView] Cannot append card. Node unknown");let i=t+a.nodeSize;r.chain().insertContentAt(i,{type:"card",content:[{type:"paragraph"}]}).focus().selectInsertedNode().run(),null==o||o.track(_.VV.OUTLINE_CARD_ADDED,{source:e})},[r,n,o]),x=(0,eh.useCallback)(()=>{let e=n();"number"==typeof e&&r.commands.selectNodeAtPos(e)},[r,n]),C=(0,eh.useCallback)(e=>{let t=i({description:(0,L.jsxs)(F.z,{fontSize:"md",children:[(0,L.jsx)(G.E,{children:e}),(0,L.jsx)(H.h,{}),(0,L.jsx)(U.$,{fontSize:"md",variant:"link",onClick:()=>{r.commands.undo(),i.close(t)},children:(0,L.jsx)(ep.x6,{id:"9uI/rE"})})]}),status:"info",variant:"subtle",duration:3e3,isClosable:!1,position:"top"})},[i,r]),f=(0,eh.useCallback)(e=>{let t=n();if("number"!=typeof t)return;let a=r.view.state.doc.nodeAt(t);if(!a)return void console.error("[SectionCardView] Cannot delete card. Node unknown");r.chain().deleteRange({from:t,to:t+a.nodeSize}).selectInsideNodeAtPos(t).focus().run(),null==o||o.track(_.VV.OUTLINE_CARD_DELETED,{source:e}),C((0,L.jsx)(ep.x6,{id:"6/Ns5U"}))},[r,n,o,C]),j=(0,eh.useCallback)(()=>{let e=n();if("number"==typeof e){if(!r.view.state.doc.nodeAt(e))return void console.error("[SectionCardView] Cannot focus card. Node unknown");r.chain().selectInsideNodeAtPos(e).focus().run()}},[r,n]),v=(0,eh.useCallback)(e=>{let t=n();"number"==typeof t&&(r.chain().mergeCardWithCardAbove(t).selectInsideNodeAtPos(t).focus().run(),null==o||o.track(_.VV.OUTLINE_CARD_MERGED,{source:e}),C((0,L.jsx)(ep.x6,{id:"3qbzsG"})))},[r,n,o,C]),y=(0,S.DM)(t),k=(0,eh.useCallback)(e=>{let t=n();if("number"!=typeof t)return;let o=a.current||void 0;(0,eS.b)(r,e.nativeEvent,t,o),e.stopPropagation()},[r,n]);return(0,L.jsxs)(P.VR,{ref:a,role:"group",children:[(0,L.jsxs)(F.z,{className:"card",border:"1px solid",borderColor:y?"var(--chakra-ring-color)":"blackAlpha.100",shadow:"sm",_hover:{shadow:"md"},transitionProperty:"box-shadow",transitionDuration:"normal",bg:"white",borderRadius:"md",spacing:0,align:"stretch","data-selection-ring":!0,pos:"relative",my:3,mt:1===d?0:void 0,role:"group",children:[!(0,eE.Xb)()&&(l?(0,L.jsx)(eR,{dragHandleInOutlineEditorEnabled:l,isFirstCard:1===d,mergeCardWithCardAbove:v,nodeViewProps:e,addCard:b,focusCard:j,selectCard:x,deleteCard:f}):(0,L.jsx)(B.a,{position:"absolute",color:h.text,zIndex:"1",top:"3.5",insetStart:"0",pointerEvents:"none",opacity:"0",_groupHover:{opacity:.75},children:(0,L.jsx)(eu.g,{icon:ec.IMq,fixedWidth:!0})})),p&&(0,L.jsx)(Y.j,{size:"6px",position:"absolute",zIndex:"2",top:"1.5",insetStart:"1.5",bg:"yellow.300"}),(0,L.jsx)(eg.Tz,{label:p&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(G.E,{children:[(0,L.jsx)(ep.x6,{id:"rayOuP"})," "]}),(0,L.jsx)(G.E,{color:"gray.400",children:g?(0,L.jsx)(ep.x6,{id:"0SxF+5"}):(0,L.jsx)(ep.x6,{id:"yLG7qf"})})]}),placement:"top",children:(0,L.jsx)(K.s,{dir:"column",align:"start",justify:"center",pe:1,ps:2,py:{base:3.5,md:4},w:12,cursor:p?"help":"grab",draggable:!0,onDragStart:k,contentEditable:!1,onClick:x,fontSize:d>=100?"xs":"sm",fontFamily:"mono",fontWeight:"600",borderStartRadius:"inherit",userSelect:"none",transitionProperty:"filter",transitionDuration:"normal",_hover:{filter:"brightness(0.95)"},bg:h.bg,color:h.text,children:d})}),(0,L.jsx)(B.a,{p:{base:"0.75em",md:"1em"},flex:1,color:p?"gray.600":void 0,position:"relative",children:(0,L.jsx)(P.$p,{})}),(0,L.jsx)(eT,{dragHandleInOutlineEditorEnabled:l,isFirstCard:1===d,mergeCardWithCardAbove:v,addCard:b,focusCard:j,deleteCard:f})]}),!(0,eE.Xb)()&&!m&&(0,L.jsx)(eP,{addCard:()=>b("hover_button")})]})},eP=(0,eh.memo)(e=>{let{addCard:t}=e;return(0,L.jsxs)(K.s,{w:"100%",h:1,borderRadius:"md",bg:"trueblue.200",transitionProperty:"opacity",transitionDuration:"slow",opacity:0,_hover:{opacity:1},_focusWithin:{opacity:1},contentEditable:!1,my:1,dir:"column",align:"center",justify:"center",pos:"absolute",transform:"translateY(-0.75rem)",zIndex:1,children:[(0,L.jsx)(B.a,{pos:"absolute",top:-2,bottom:-2,insetStart:0,insetEnd:0}),(0,L.jsx)(eg.Tz,{placement:"top",label:(0,L.jsx)(ep.x6,{id:"sFY+gw"}),shortcut:"---",children:(0,L.jsx)(Z.K,{pos:"absolute",variant:"solid",icon:(0,L.jsx)(eu.g,{icon:ec.QLR}),"aria-label":"Add card",isRound:!0,size:"xs",onClick:t,tabIndex:-1})})]})});eP.displayName="CardDivider";let eV={addCard:{label:(0,L.jsx)(ep.x6,{id:"90n2YU"}),icon:ec.QLR},mergeCardWithCardAbove:{label:(0,L.jsx)(ep.x6,{id:"kV34zB"}),icon:ec.INu},deleteCard:{label:(0,L.jsx)(ep.x6,{id:"nabda1"}),icon:ec.sjs,color:"red.600"}},eT=(0,eh.memo)(e=>{let{dragHandleInOutlineEditorEnabled:t,isFirstCard:r,addCard:n,deleteCard:a,focusCard:o,mergeCardWithCardAbove:i}=e;return(0,L.jsx)(F.z,{pe:{base:2,md:2.5},pt:{base:2,md:3},alignSelf:"start",children:(0,eE.Xb)()?(0,L.jsx)(J.W,{children:e=>{let{onClose:t}=e;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Q.I,{onClick:o,as:Z.K,colorScheme:"gray",variant:"ghost",size:"sm",icon:(0,L.jsx)(eu.g,{icon:ec.Dwc,fixedWidth:!0})}),(0,L.jsx)(q.Z,{children:(0,L.jsxs)(X.c,{zIndex:"tooltip",children:[(0,L.jsx)($.D,{onClick:()=>{t(),n("mobile_menu")},icon:(0,L.jsx)(eu.g,{icon:eV.addCard.icon,fixedWidth:!0}),children:eV.addCard.label}),!r&&(0,L.jsx)($.D,{onClick:()=>{i("mobile_menu"),t()},icon:(0,L.jsx)(eu.g,{icon:eV.mergeCardWithCardAbove.icon,fixedWidth:!0}),children:eV.mergeCardWithCardAbove.label}),(0,L.jsx)(ee.N,{}),(0,L.jsx)($.D,{onClick:()=>{a("mobile_menu"),t()},color:eV.deleteCard.color,icon:(0,L.jsx)(eu.g,{icon:eV.deleteCard.icon,fixedWidth:!0}),children:eV.deleteCard.label})]})})]})}}):!t&&(0,L.jsx)(eg.Tz,{label:(0,L.jsx)(ep.x6,{id:"nabda1"}),placement:"top",children:(0,L.jsx)(Z.K,{colorScheme:"gray",variant:"ghost",opacity:"0",_groupHover:{opacity:1},_focus:{opacity:1},transitionProperty:"opacity",transitionDuration:"slow",size:"sm",onClick:()=>a("hover_button"),"aria-label":em.Ru._({id:"nabda1"}),icon:(0,L.jsx)(eu.g,{icon:ec.sjs,fixedWidth:!0})})})})});eT.displayName="CardActions";let eR=(0,eh.memo)(e=>{let{nodeViewProps:t,addCard:r,selectCard:n,mergeCardWithCardAbove:a,deleteCard:o,isFirstCard:i}=e,{isOpen:l,onOpen:d,onClose:s}=(0,et.j)(),c=(0,ef.fW)(),u=(0,eh.useCallback)(()=>{d(),n()},[d,n]);return(0,L.jsxs)(er.A,{returnFocusOnClose:!1,isOpen:l,onClose:s,placement:"top",closeOnBlur:!0,autoFocus:!1,children:[(0,L.jsx)(en.d,{children:(0,L.jsx)(B.a,{position:"absolute",width:ey.M.width,height:ey.M.height,...(0,ek.T)(c).outside})}),(0,L.jsx)(ea.W,{children:(0,L.jsx)(B.a,{position:"relative",children:(0,L.jsx)(ek.A,{...t,onClick:u,opacity:+!!l,_groupHover:{opacity:1},handlePlacement:"outside",label:(0,L.jsxs)(eo.T,{spacing:0,children:[(0,L.jsx)(G.E,{color:"gray.400",children:(0,L.jsx)(ep.x6,{id:"63lY3K",components:{0:(0,L.jsx)(G.E,{color:"white",as:"span"})}})}),(0,L.jsx)(G.E,{color:"gray.400",children:(0,L.jsx)(ep.x6,{id:"COhrZ5",components:{0:(0,L.jsx)(G.E,{color:"white",as:"span"})}})})]})})})}),(0,L.jsx)(q.Z,{children:(0,L.jsx)(ei.h,{p:"0",w:"fit-content",children:(0,L.jsx)(el.e,{p:"1",children:(0,L.jsxs)(F.z,{spacing:1,children:[(0,L.jsxs)(ed.e,{spacing:0,children:[(0,L.jsx)(ev.I,{label:eV.addCard.label,testId:"add-card",onClick:()=>{s(),r("menu")},icon:eV.addCard.icon}),!i&&(0,L.jsx)(ev.I,{label:eV.mergeCardWithCardAbove.label,testId:"merge-card",onClick:()=>{a("menu"),s()},icon:eV.mergeCardWithCardAbove.icon})]}),(0,L.jsx)(es.c,{h:"8",orientation:"vertical"}),(0,L.jsx)(ev.I,{label:eV.deleteCard.label,testId:"delete-card",onClick:()=>{o("menu"),s()},icon:eV.deleteCard.icon,color:eV.deleteCard.color})]})})})})]})});eR.displayName="CardActionsPopover";let eM=/^(---|___|—-)$/,eW=n.bP.create({name:"card",content:"block+",selectable:!0,draggable:!0,isolating:!0,parseHTML:()=>[{tag:"section"}],renderHTML(e){let{HTMLAttributes:t}=e;return["section",(0,n.KV)(t),0]},addNodeView:()=>(0,P.gu)(eN),addProseMirrorPlugins:()=>[M],addInputRules:()=>[new n.fV({find:eM,handler:e=>{let{state:t,range:r}=e,{tr:n}=t;(0,z.S)({tr:n.deleteRange(r.from,r.to),dispatch:!0}),null===_.zS||void 0===_.zS||_.zS.track(_.VV.OUTLINE_CARD_ADDED,{source:"keyboard_shortcut"})}})],addKeyboardShortcuts(){return{Backspace:()=>{let e=this.editor.commands.mergeCardsOnDelete(!1);return e&&(null===_.zS||void 0===_.zS||_.zS.track(_.VV.OUTLINE_CARD_MERGED,{source:"keyboard_shortcut"})),e},Delete:()=>{let e=this.editor.commands.mergeCardsOnDelete(!0);return e&&(null===_.zS||void 0===_.zS||_.zS.track(_.VV.OUTLINE_CARD_MERGED,{source:"keyboard_shortcut"})),e},Tab:()=>this.editor.commands.selectNextCard(!0),"Shift-Tab":()=>this.editor.commands.selectNextCard(!1)}},addCommands:()=>({selectNextCard:e=>t=>{let{state:r,dispatch:a,commands:o}=t;if(!a)return!0;let{selection:i}=r,l=(0,n.KP)(V.jg)(i);if(!l||!i.empty)return!1;let d=r.doc.resolve(l.pos),s=d.index();if(e){if(s===d.parent.childCount-1)return!1;o.selectInsideNodeAtPos(l.pos+l.node.nodeSize)}else{if(0===s)return!1;let e=d.posAtIndex(s-1);o.selectInsideNodeAtPos(e)}return!0},mergeCardsOnDelete:e=>t=>{let{tr:r,state:a,dispatch:o}=t;if(!o)return!0;let{selection:i}=a,l=(0,n.KP)(V.jg)(i);if(!l||!i.empty)return!1;try{if(!(0,N.jF)(i,e))return!1;return e?(0,N.Uc)(l.pos,r,a):(0,N.c9)(l.pos,r)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}},mergeCardWithCardAbove:e=>t=>{let{tr:r,dispatch:n}=t;return!n||(0,N.c9)(e,r)}})}),eL=[s.B,h.a,g.f,p.E,C.Hf,d.D,a.yN,m.z,c.J2,u.Ay.configure({openOnClick:!1}),j.B8,f.D,v.R,E.a,b.B,l.v,i.Q.configure({color:"var(--chakra-colors-trueblue-200)",width:3,class:"ProseMirror-dropcursor"}),S.bU,A.V,k.Q8,y.p],eO=e=>[...eL,(null==e?void 0:e.hideSectionBreaks)?D.B.extend({addNodeView:()=>(0,w.g)(I.e),addInputRules:()=>[]}):D.B,o.y.extend({content:"block+"})],eF=(e,t)=>"freeform"==t?e.replaceAll("\n---\n",""):e,eG=[...eL,eW,o.y.extend({content:"card+"})],eH=(e,t)=>{let r=(0,n.getSchema)("freeform"===t?eO({hideSectionBreaks:!1}):eG);return"structured"===t&&(e=e.split("<hr>").map(e=>"<section>".concat(e,"</section>")).join("\n")),(0,x.S)(e,r)}},37471:(e,t,r)=>{r.d(t,{X0:()=>a,_2:()=>i,lW:()=>o});var n=r(55729);let a=["createWithAI","createGenerate","legacyGuidedMode","createPaste","createImport","createStudio","promptEditor","home","remixPromptEditor","createFromTemplate"],o=(0,n.createContext)({goToScreen:()=>{throw Error("goToScreen not available. Did you forget to wrap your component in RouterNavigationContext?")},onDocGenerationLoaded:()=>{},navEnabled:!0,webpageOnly:!1,themeSelectionMode:"condensed"}),i=()=>(0,n.useContext)(o)},55427:(e,t,r)=>{r.d(t,{V:()=>x});var n=r(59275),a=r(59230),o=r(8327),i=r(98088),l=r(46957),d=r(55978),s=r(73326),c=r(15607),u=r(60908),g=r(6029),p=r(26420),m=r(1558),h=r(22216);let b=e=>{let{node:t}=e,{uploadStatus:r}=t.attrs;return(0,g.jsx)(s.VR,{children:(0,g.jsxs)(p.a,{"data-selection-ring":!0,pos:"relative",borderRadius:"md",w:"fit-content",css:{"--media-maxH":"8em"},children:[r===a.A.Error?(0,g.jsx)(h.Pf,{w:"12em",h:"6em"}):(0,g.jsx)(m.FQ,{imageAttrs:t.attrs,"data-drag-handle":!0}),r===a.A.Uploading&&(0,g.jsx)(h.Td,{}),r==a.A.Error&&(0,g.jsx)(h.Hy,{})]})})},x=n.Ay.extend({selectable:!0,draggable:!0,expandable:!0,addNodeView:()=>(0,s.gu)(b,{update:l.z0}),renderHTML(e){let{node:t}=e,r=t.attrs,{src:n,tempUrl:i,uploadStatus:l}=r;return["img",{src:l===a.A.Error?"":n||((null==i?void 0:i.startsWith("http"))?i:""),alt:(0,o.ve)(r),meta:JSON.stringify(r.meta),resize:JSON.stringify(r.resize)}]},parseHTML:()=>[{tag:"img[src]",getAttrs:e=>{let t=e.getAttribute("src");return(0,u.md)(t)?{src:t}:{tempUrl:t}}}],addAttributes:()=>({id:(0,d.e)(i.z),src:{},tempUrl:{},uploadStatus:{},meta:{...(0,c.tb)("meta")},resize:{...(0,c.tb)("resize")}})})},70027:(e,t,r)=>{r.d(t,{Tx:()=>i,pY:()=>l});var n=r(6029),a=r(55729);let o=a.createContext({});function i(){return(0,a.useContext)(o)}let l=e=>{let{children:t}=e,r=a.useRef(void 0);return(0,n.jsx)(o.Provider,{value:{setEditorInstance:e=>{r.current=e},getEditorInstance:()=>r.current},children:t})}},70557:(e,t,r)=>{r.d(t,{R7:()=>k,T7:()=>y,b2:()=>C,jQ:()=>x,lF:()=>j,ow:()=>E,pm:()=>f,sC:()=>v});var n=r(87386),a=r(55729),o=r(37471),i=r(70027),l=r(88586),d=r(34394),s=r(15342),c=r(53615),u=r(22529),g=r(92124),p=r(36802),m=r(1620),h=r(83370);let b={deck:"generationPreferredDeckStyle",document:"generationPreferredDocumentStyle",social:"generationPreferredSocialStyle"},x=()=>{let e=(0,s.CU)(),t=(0,s.jL)(),[r]=(0,l.zb6)();return(0,a.useCallback)(async()=>{var n;let a=(0,h.cK)(e.getState()).id,o=null==(n=(await r({variables:{docGenerateInputId:a,input:{}}})).data)?void 0:n.updateDocGenerationDraftInput;o&&o.draftInput&&a!==o.draftInput.id&&t((0,h.Jv)(o))},[t,e,r])},C=e=>{var t;let r=(0,s.CU)(),n=(0,s.jL)(),[o]=(0,l.zb6)(),i=(0,a.useCallback)(async e=>{var t;let a=(0,h.gG)(r.getState()),i=(0,h.nY)(r.getState());if(!a||!i)return;let{format:l,generationType:d,...s}=e,c={format:l,generationType:d,...s},u=(0,h._y)(r.getState());c.settings&&(c.settings={...u,...c.settings});let g=(0,h.nY)(r.getState()),p=null==(t=(await o({variables:{docGenerateInputId:i,input:c}})).data)?void 0:t.updateDocGenerationDraftInput;p&&p.draftInput&&g!==p.draftInput.id&&n((0,h.Jv)(p))},[n,r,o]),d=(0,g.lW)(i,null!=(t=null==e?void 0:e.debounce)?t:0);return(0,a.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];Object.keys(e).length>0&&n((0,h.Yo)(e)),t&&d(e)},[d,n])},f=()=>{let e=C(),t=(0,s.GV)(h.wS),[r,i]=k("styleTemplate"),l=(0,s.CU)(),d=(0,a.useCallback)(function(t){var r;let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=(0,u.mB)(l.getState()),i=(null==o||null==(r=o.settings)?void 0:r[b[t]])||n.DEFAULT_FORMAT_STYLE_TEMPLATES[t];e({format:t,settings:{styleTemplate:i}},a)},[e,l]),{webpageOnly:c}=(0,o._2)();return(0,a.useEffect)(()=>{c&&"webpage"!==t&&d("webpage")},[t,c,d,r,i]),{format:t,styleTemplate:r,setFormat:d,setStyleTemplate:i}},j=()=>{let e=C({debounce:500}),t=(0,a.useCallback)(function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({prompt:t},r)},[e]);return[(0,s.GV)(h.fg),t]},v=()=>{let[e,t]=S("themeId"),r=(0,s.GV)(h.u$),n=(0,s.jL)();return(0,a.useEffect)(()=>{e&&r.length>0&&!r.includes(e)&&n((0,h._W)([e,...r]))},[e,r,n]),[e,t]},y=e=>{let[t,r]=S("imageModel",e),[n,o]=(0,d.ZQ)();return[(0,d.R5)(t),(0,a.useCallback)(e=>{r(e),o(e)},[r,o])]},k=(e,t)=>{if("imageModel"===e)throw Error("the imageModel generatorSetting must be loaded with useGeneratorAiImageModel");return S(e,t)},S=(e,t)=>{let r=C(t),n=(0,a.useCallback)(function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];r({settings:{[e]:t}},n)},[e,r]);return[(0,s.GV)((0,h.Wt)(e)),n]},E=e=>{let t=C(e),{getEditorInstance:r}=(0,i.Tx)();return(0,a.useCallback)(function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=arguments.length>2?arguments[2]:void 0,o=r();if(o){let t=o.editorId===p.B,r=(0,c.uY)(e),n=(0,m.ZC)(r,t?"structured":"freeform").content.toJSON(),i=o.chain().setContent(n);a&&i.focus(a),i.run()}t({content:e},n)},[t,r])}},77206:(e,t,r)=>{r.d(t,{B:()=>d});var n=r(37243),a=r(73326),o=r(36811),i=r(78135);let l=/^(---|___|—-)/,d=n.bP.create({name:"sectionBreak",group:"block",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,n.KV)(t)]},addNodeView:()=>(0,a.gu)(i.i),addInputRules(){return[(0,o.wN)({find:l,type:this.type})]}})},78135:(e,t,r)=>{r.d(t,{e:()=>i,i:()=>l});var n=r(6029),a=r(26420),o=r(73326);let i=()=>null,l=e=>{let{selected:t}=e;return(0,n.jsx)(o.VR,{children:(0,n.jsx)(a.a,{pos:"relative",draggable:"true","data-drag-handle":!0,cursor:"grab",contentEditable:"false",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"1.25rem",color:t?"trueblue.400":"gray.400",lineHeight:"1rem",fontWeight:"800",children:"---"})})}},79096:(e,t,r)=>{r.d(t,{B:()=>s});var n=r(37243),a=r(63867),o=r(28700),i=r(53615),l=r(98308),d=r(50535);let s=n.YY.create({name:"clipboardLight",addCommands:()=>({insertMarkdownAt:(e,t)=>r=>{let{state:n,tr:a}=r;try{let r=(0,i.os)(t,n.schema);return a.replaceRange(e.from,e.to,r),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}}}),addProseMirrorPlugins(){let e=this.editor;return[new a.k_({key:new a.hs("clipboardLight"),props:{clipboardSerializer:{serializeFragment:t=>(0,d.t8)(t,e.schema)},handlePaste:(t,r,n)=>(0,i.D1)(e,r)||(0,o.j)(t,r,n),transformPastedHTML:e=>(0,l.V)(e)}})]}})}}]);
//# sourceMappingURL=557-757315eadcf92236.js.map