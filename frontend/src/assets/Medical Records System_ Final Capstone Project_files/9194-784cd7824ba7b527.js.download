"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9194],{5747:(e,t,r)=>{r.d(t,{D:()=>L});var n=r(6029),i=r(12326),a=r(26385),s=r(23293),o=r(29810),l=r(40452),d=r(49611),c=r(77364),u=r(26420),m=r(61204),x=r(16936),p=r(17496),h=r(40162),g=r(4192),f=r(38036),b=r(99492),j=r(48621),v=r(47412),y=r(19564),w=r(77650),C=r(55729),k=r(75178),S=r(68301),I=r(5061),E=r(95563),R=r(20751),T=r(22249),A=r(15342),D=r(92699),_=r(7554),P=r(82927),V=r(11403);let z={dark:{label:(0,n.jsx)(y.x6,{id:"+b0Wxk"})},light:{label:(0,n.jsx)(y.x6,{id:"kAFlqg"})},professional:{label:(0,n.jsx)(y.x6,{id:"wk3x7P"})},colorful:{label:(0,n.jsx)(y.x6,{id:"iqiUCj"})}},L=(0,C.memo)(e=>{let{title:t,description:r,closePanel:L,stackProps:G,currentTheme:M,showCreateButtons:F=!0,usePanelHeading:O=!1}=e,N=(0,I.fW)(),U=(0,A.jL)(),W=(0,A.GV)(_.yD),B=(0,A.GV)(_.r8),q=(0,C.useRef)(null),{currentWorkspace:H}=(0,P.ur)(),[$,K]=(0,C.useState)(""),X=(0,A.GV)(_.cE),Z=(0,A.GV)((0,T.lp)("right")),J=(0,R.S)(Z),Q=(0,C.useCallback)(()=>{U((0,_.U7)({activeView:"search"})),setTimeout(()=>{var e;null==(e=q.current)||e.focus()},200)},[U]),Y=(0,C.useCallback)(e=>{U((0,_.Ri)({searchQuery:e}))},[U]),ee=(0,V.lW)(Y,500),et=(0,C.useCallback)(e=>{K(e),ee(e)},[ee]),er=(0,C.useCallback)(e=>{let t=[...B];B.includes(e)?t=t.filter(t=>t!==e):t.push(e),U((0,_.d2)({filterKeywords:t}))},[B,U]);(0,V.Vg)(()=>{"search"!==W&&(M&&M.workspaceId===(null==H?void 0:H.id)?U((0,_.U7)({activeView:"custom"})):U((0,_.U7)({activeView:"standard"})))},[U,M,W,H],[M]);let en=(0,C.useCallback)(()=>{(0,D._E)()},[]);(0,C.useEffect)(()=>()=>{U((0,_.mL)())},[U]);let ei=(0,S.u)("themeImportAi"),ea={base:"column",sm:"column",md:"row",lg:"row"};return(0,n.jsxs)(a.B,{spacing:4,...G,children:[(0,n.jsxs)(a.B,{spacing:4,children:[(0,n.jsxs)(a.B,{spacing:4,children:[(0,n.jsxs)(a.B,{direction:J?ea[J]:ea.sm,width:"100%",paddingInlineEnd:L?8:void 0,children:[O?(0,n.jsx)(E.N,{children:t}):(0,n.jsx)(s.D,{size:"md",children:t}),(0,n.jsx)(o.h,{}),(0,n.jsxs)(l.s,{gap:2,children:[H&&F&&(0,n.jsx)(v.Tz,{label:(0,n.jsx)(y.x6,{id:"LPcaN9"}),placement:"top",children:(0,n.jsx)(d.$,{size:"sm",variant:"plain",shadow:"none",leftIcon:(0,n.jsx)(j.g,{icon:b.QLR}),onClick:en,"data-testid":"new-theme-button",children:(0,n.jsx)(y.x6,{id:"FiwgR9"})})}),ei&&F&&(0,n.jsx)(v.Tz,{label:(0,n.jsx)(y.x6,{id:"OPW4Wb"}),placement:"top",children:(0,n.jsx)(d.$,{size:"sm",boxShadow:"none",variant:"plain",leftIcon:(0,n.jsx)(j.g,{icon:b.$MS}),onClick:D.yJ,children:(0,n.jsx)(y.x6,{id:"l3s5ri"})})})]}),L&&(0,n.jsx)(c.J,{position:"absolute",top:2,right:N?void 0:2,left:N?2:void 0,onClick:L})]}),r?(0,n.jsx)(u.a,{children:r}):(0,n.jsx)(n.Fragment,{})]}),X&&(0,n.jsxs)(m.e,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",children:[(0,n.jsx)(d.$,{borderRadius:"md",w:"50%",leftIcon:(0,n.jsx)(j.g,{icon:b.ffg,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===W?void 0:"gray",bg:"custom"===W?"trueblue.50":"transparent",color:"custom"===W?"trueblue.500":"gray.600",onClick:()=>U((0,_.U7)({activeView:"custom"})),children:(0,n.jsx)(y.x6,{id:"8Tg/JR"})}),(0,n.jsx)(d.$,{borderRadius:"md",w:"50%",leftIcon:(0,n.jsx)(u.a,{w:3.5,children:(0,n.jsx)(k.T,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===W?void 0:"gray",bg:"standard"===W?"trueblue.50":"transparent",color:"standard"===W?"trueblue.500":"gray.600",onClick:()=>U((0,_.U7)({activeView:"standard"})),children:(0,n.jsx)(y.x6,{id:"TJBHlP"})}),(0,n.jsx)(x.K,{icon:(0,n.jsx)(i.Q,{}),isRound:!0,"data-theme-picker-active-view-button":"search","aria-label":w.Ru._({id:"A1taO8"}),variant:"ghost",colorScheme:"search"===W?void 0:"gray",bg:"search"===W?"trueblue.100":"gray.50",onClick:Q})]})]}),(0,n.jsx)(p.S,{in:"standard"===W,children:(0,n.jsxs)(a.B,{direction:"row",children:[(0,n.jsx)(h.B,{children:Object.entries(z).map(e=>{let[t,{label:r}]=e,i=B.includes(t);return(0,n.jsx)(g.vw,{size:"md",letterSpacing:"normal",cursor:"pointer",onClick:()=>{er(t)},_hover:{bgColor:i?"trueblue.200":"blackAlpha.200"},colorScheme:i?"trueblue":"blackAlpha",children:r},t)})}),!X&&(0,n.jsx)(x.K,{icon:(0,n.jsx)(i.Q,{}),borderRadius:"md",variant:"ghost",size:"xs","data-theme-picker-active-view-button":"search","aria-label":w.Ru._({id:"A1taO8"}),colorScheme:"search"===W?void 0:"blackAlpha",bg:"search"===W?"trueblue.100":"blackAlpha.100",_hover:{bgColor:"search"===W?"trueblue.200":"blackAlpha.200"},onClick:Q})]})}),(0,n.jsx)(p.S,{in:"search"===W,children:(0,n.jsxs)(a.B,{direction:"row",children:[!X&&(0,n.jsx)(x.K,{variant:"ghost",icon:(0,n.jsx)(j.g,{icon:b.Wzs,fixedWidth:!0}),onClick:()=>U((0,_.U7)({activeView:"standard"})),"aria-label":w.Ru._({id:"iH8pgl"})}),(0,n.jsx)(f.p,{ref:q,w:"100%",mb:1,placeholder:w.Ru._({id:"L0fOnm"}),value:$,onChange:e=>{et(e.target.value)}})]})})]})});L.displayName="ThemePickerHeader"},6295:(e,t,r)=>{r.d(t,{Kj:()=>R,NV:()=>E,RW:()=>I,Zy:()=>_,cm:()=>T});var n=r(6029),i=r(26385),a=r(26420),s=r(48810),o=r(49611),l=r(99492),d=r(48621),c=r(19564),u=r(55729),m=r(83370),x=r(98841),p=r(26814),h=r(80219),g=r(99038),f=r(92437),b=r(89528),j=r(84287),v=r(15342),y=r(95889),w=r(70557),C=r(3487),k=r(51022);let S={info:{bgColor:"trueblue.100",strongColor:"trueblue.500"},warning:{bgColor:"orange.100",strongColor:"orange.700"},error:{bgColor:"red.100",strongColor:"red.500"}},I=e=>{let{productBadgeLabel:t,title:r,subtitle:c,onClick:u,cta:m,status:x="warning"}=e,{bgColor:p,strongColor:h}=S[x];return(0,n.jsxs)(i.B,{borderRadius:"md",bg:p,px:{base:2,md:3},ps:4,py:2,direction:{base:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",w:"100%",children:[(0,n.jsxs)(i.B,{direction:"row",alignItems:"center",gap:2,flex:"1",children:[t?(0,n.jsx)(b.zL,{product:t}):(0,n.jsx)(a.a,{color:h,display:{base:"none",sm:"block"},children:(0,n.jsx)(d.g,{icon:l.ijf})}),(0,n.jsxs)(s.E,{fontSize:{base:"xs",sm:"sm"},lineHeight:"1.3",flex:"1",children:[(0,n.jsx)(s.E,{color:h,as:"strong",children:r})," ",c]})]}),m&&u&&(0,n.jsx)(o.$,{onClick:u,variant:"outline",bg:"white",size:{base:"xs",sm:"sm"},p:3,children:m})]})},E=(0,u.memo)(()=>{let{hasEnoughCreditsToGenerateDeck:e,lowCreditStatus:t}=(0,p.B9)(),{openUpsellModal:r}=(0,j.I)();return(0,f.ez)("unlimited_credits")?null:t===h.y.LOW?(0,n.jsx)(I,{status:"warning",onClick:()=>r({segmentEvent:y.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2}),title:(0,n.jsx)(c.x6,{id:"CTJW4r"}),subtitle:(0,n.jsx)(c.x6,{id:"ite5va"}),cta:(0,n.jsx)(c.x6,{id:"y7e9aS"})}):e?null:(0,n.jsx)(I,{status:"error",onClick:()=>r({segmentEvent:y.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2}),title:(0,n.jsx)(c.x6,{id:"caCGZW"}),subtitle:(0,n.jsx)(c.x6,{id:"ite5va"}),cta:(0,n.jsx)(c.x6,{id:"y7e9aS"})})});E.displayName="NotEnoughCreditsUpsellWarning";let R=(0,u.memo)(()=>{let e=(0,v.GV)(m.J$),{maxTokens:t,canUpgrade:r}=(0,k.is)(),{openUpsellModal:i}=(0,j.I)();return!e||e<t?null:e>=t&&r?(0,n.jsx)(I,{status:"warning",productBadgeLabel:"pro",onClick:()=>i({segmentEvent:y.VV.GAMMA_UPSELL_CALLOUT_AI_GENERATE_MORE_TOKENS}),title:(0,n.jsx)(c.x6,{id:"265FwR"}),subtitle:(0,n.jsx)(c.x6,{id:"kaOsNu",values:{0:k.yI.toLocaleString()}}),cta:(0,n.jsx)(c.x6,{id:"kwkhPe"})}):(0,n.jsx)(I,{status:"warning",title:(0,n.jsx)(c.x6,{id:"mWVxkj"}),subtitle:(0,n.jsx)(c.x6,{id:"qTSTz6",values:{0:k.yI.toLocaleString()}})})});R.displayName="MaxTokensUpsellWarning";let T=(0,u.memo)(e=>{let{maxSlides:t,numSlides:r}=e;return!r||r<t?null:(0,n.jsx)(I,{status:"warning",title:(0,n.jsx)(c.x6,{id:"PbeHU2",values:{MAX_IMPORT_SLIDES:x.O}})})});T.displayName="MaxImportSlidesWarning";let A=e=>{let{product:t,maxCards:r}=e;switch(t){case"plus":return(0,n.jsx)(c.x6,{id:"j1TMLw",values:{PLUS_PROPER_NOUN:g.H9,maxCards:r}});case"pro":return(0,n.jsx)(c.x6,{id:"gBfqFn",values:{PRO_PROPER_NOUN:g.Kc,maxCards:r}});case"ultra":return(0,n.jsx)(c.x6,{id:"PL7ouA",values:{ULTRA_PROPER_NOUN:g.v$,maxCards:r}});default:return(0,n.jsx)(c.x6,{id:"cBv+5n",values:{maxCards:r}})}},D=(e,t)=>{if(e)return(0,n.jsx)(c.x6,{id:"yz93IX"});if(!t)return null;let{product:r,maxCards:i}=t;switch(r){case"plus":return(0,n.jsx)(c.x6,{id:"IvPpIX",values:{PLUS_PROPER_NOUN:g.H9,maxCards:i}});case"pro":return(0,n.jsx)(c.x6,{id:"5kQeis",values:{PRO_PROPER_NOUN:g.Kc,maxCards:i}});case"ultra":return(0,n.jsx)(c.x6,{id:"ClRcu0",values:{ULTRA_PROPER_NOUN:g.v$,maxCards:i}});default:return null}},_=(0,u.memo)(()=>{let e=(0,v.GV)(m.yR),[t]=(0,w.R7)("editorMode"),{maxCards:r,getUpgradeForCardCount:i}=(0,C.Zq)(),{openUpsellModal:a}=(0,j.I)(),{product:s}=(0,j.I)(),o=i(e),l=!s,d=(0,u.useCallback)(e=>{a({segmentEvent:y.VV.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER,targetFeature:null==e?void 0:e.feature})},[a]);if(!e)return null;if("structured"===t){if(e<=r)return null;let t=D(l,o);return(0,n.jsx)(I,{status:"warning",onClick:()=>d(l?null:o),title:(0,n.jsx)(c.x6,{id:"3wlruh",values:{maxCards:r}}),subtitle:t,cta:(0,n.jsx)(c.x6,{id:"kwkhPe"})})}if("freeform"===t){if(e<r)return null;let t=i(e+1);if(e===r&&t)return(0,n.jsx)(I,{status:"warning",onClick:()=>d(t),title:A(t),cta:(0,n.jsx)(c.x6,{id:"kwkhPe"})});if(e>=r&&!o)return(0,n.jsx)(I,{status:"warning",title:(0,n.jsx)(c.x6,{id:"L7Mfi1",values:{cardCount:e}}),subtitle:(0,n.jsx)(c.x6,{id:"yLG7qf"})});if(e>r&&o)return(0,n.jsx)(I,{status:"warning",onClick:()=>d(o),title:A(o),cta:(0,n.jsx)(c.x6,{id:"kwkhPe"})})}return null});_.displayName="CardCountUpsellWarning"},9623:(e,t,r)=>{r.d(t,{n:()=>c});var n=r(6029),i=r(26385),a=r(48810),s=r(81107),o=r(48621),l=r(47412),d=r(19564);let c=(0,r(55729).memo)(()=>(0,n.jsx)(l.Tz,{placement:"top",bg:"gray.800",label:(0,n.jsxs)(i.B,{spacing:1,fontFamily:"mono",children:[(0,n.jsx)(a.E,{children:"# Heading 1"}),(0,n.jsx)(a.E,{children:"## Heading 1"}),(0,n.jsx)(a.E,{children:"### Heading 3"}),(0,n.jsx)(a.E,{children:"- Item 1"}),(0,n.jsx)(a.E,{children:"- Item 2"}),(0,n.jsx)(a.E,{children:"- Item 3"})]}),children:(0,n.jsxs)(a.E,{cursor:"help",children:[(0,n.jsx)(a.E,{as:"span",color:"gray.400",me:1,children:(0,n.jsx)(o.g,{icon:s.FcD})}),(0,n.jsx)(d.x6,{id:"u6Hp4N"})]})}));c.displayName="MarkdownTip"},12910:(e,t,r)=>{r.d(t,{w:()=>l});var n=r(77650),i=r(15342),a=r(83370),s=r(51022);let o=(e,t)=>{switch(e){case"invalid-empty":return n.Ru._({id:"9IxKHJ"});case"invalid-long":return n.Ru._({id:"ZcJO3k",values:{maxTokens:t}})}},l=()=>{let{maxTokens:e}=(0,s.is)(),t=(0,i.GV)((0,a.$t)(e));return void 0===t?{canGenerate:!0,cantGenerateReason:void 0}:{canGenerate:!1,validationError:t,cantGenerateReason:o(t,e)}}},20715:(e,t,r)=>{r.d(t,{Jp:()=>l,cg:()=>s,dd:()=>o});var n=r(95889),i=r(29608),a=r(37605);let s=e=>{let{doc_id:t,source:r,source_doc_id:i,channel:s,format:o,extra:l}=e;null===n.zS||void 0===n.zS||n.zS.track(a.VV.DOC_CREATED,{doc_id:t,source_doc_id:i,source:r,channel:s,extra:l,format:o})},o=e=>{let{docId:t,type:r,source:s}=e;if(!t)return void console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");null===n.zS||void 0===n.zS||n.zS.track(a.VV.DOC_SHARELINK_COPIED,{doc_id:t,source:s,type:r,device:(0,i.ZI)()})},l=e=>{let{fileId:t,source:r}=e;if(!t)return void console.debug("[trackFileShareLinkCopiedEvent]: file_id is required");null===n.zS||void 0===n.zS||n.zS.track(a.VV.FILE_SHARELINK_COPIED,{file_id:t,source:r,device:(0,i.ZI)()})}},24092:(e,t,r)=>{r.d(t,{I:()=>x});var n=r(6029),i=r(40452),a=r(26420),s=r(55729),o=r(73326),l=r(63255),d=r(77093),c=r(1620),u=r(42343);let m={...d.X,...l.X0},x=(0,s.memo)(s.forwardRef((e,t)=>{let{hideSectionBreaks:r,containerProps:l,editorPadding:d,placeholder:x,content:p,handleKeyDown:h,extensions:g,...f}=e,b=(0,s.useRef)(h);(0,s.useEffect)(()=>{b.current=h},[h]);let[j,v]=(0,s.useState)(!0),y=(0,o.hG)({...f,content:p,onCreate:e=>{var t;let{editor:r}=e;null==(t=f.onCreate)||t.call(f,{editor:r}),v(null==r?void 0:r.isEmpty)},onUpdate:e=>{var t;let{editor:r,transaction:n}=e;null==(t=f.onUpdate)||t.call(f,{editor:r,transaction:n}),v(null==r?void 0:r.isEmpty)},extensions:null!=g?g:(0,c.BG)({hideSectionBreaks:r}),editorProps:{handleKeyDown:(e,t)=>{var r;return null==(r=b.current)?void 0:r.call(b,e,t)},attributes:{"data-testid":"ai-content-editor"}},immediatelyRender:!0});return(0,u.X)(y),(0,s.useImperativeHandle)(t,()=>({setContent:e=>{y.commands.setContent(e),v(0===e.length)}}),[y]),(0,n.jsxs)(i.s,{fontSize:"sm",direction:"column",flex:"1",pos:"relative",sx:{".ProseMirror":{padding:d}},...l,children:[(0,n.jsx)(i.s,{flex:"1",direction:"column",sx:m,children:(0,n.jsx)(o.$Z,{editor:y,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}})}),x&&j&&(0,n.jsx)(a.a,{pos:"absolute",top:d,insetStart:d,pointerEvents:"none",color:"gray.500",children:x})]})}));x.displayName="AIFreeformEditor"},25683:(e,t,r)=>{r.d(t,{Q:()=>f});var n=r(6029),i=r(40452),a=r(49611),s=r(58959),o=r(48621),l=r(47412),d=r(19564),c=r(55729),u=r(90184),m=r(26814),x=r(37605),p=r(70557);let h=()=>{let[e]=(0,p.R7)("imageProvider");return"aiGenerated"===e?"generateV2WithImages":"generateV2"};var g=r(12910);let f=(0,c.memo)(e=>{let{onClick:t,arrowIcon:r,isBlocked:c=!1}=e,p=h(),{canGenerate:f,cantGenerateReason:b}=(0,g.w)(),{hasEnoughCreditsToGenerateDeck:j}=(0,m.B9)(),v=(0,m.tO)(t,"generateV2",x.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2),y=!f||c,w=y&&!c;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Tz,{label:j?b:(0,n.jsx)(d.x6,{id:"mTJ1YV"}),isDisabled:!w,children:(0,n.jsx)(i.s,{flex:"1",alignItems:"stretch",alignSelf:"stretch",justifyContent:"stretch",flexDirection:"column",children:(0,n.jsx)(a.$,{variant:"solid",w:"100%",rightIcon:(0,n.jsxs)(s.z,{children:[(0,n.jsx)(u.G,{type:p}),(0,n.jsx)(o.g,{icon:r})]}),onClick:v,isDisabled:y,size:{base:"md",lg:"lg"},children:(0,n.jsx)(d.x6,{id:"xGVfLh"})})})})})});f.displayName="ContinueToThemePickerButton"},26535:(e,t,r)=>{r.d(t,{r:()=>v});var n=r(6029),i=r(83638),a=r(25223),s=r(83743),o=r(26420),l=r(26385),d=r(40452),c=r(49611),u=r(48810),m=r(47412),x=r(19564);r(55729);var p=r(88586),h=r(87827),g=r(15342),f=r(55023),b=r(70557),j=r(83370);let v=e=>{let{columns:t={base:2,lg:4},labelText:r}=e,o=(0,g.GV)(j.zQ)===p.xbH.Studio,[l,d]=(0,b.R7)("textAmount"),c=(0,h.n)(o?f.Z:f.d);return(0,n.jsxs)(i.MJ,{children:[!o&&(0,n.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:null!=r?r:(0,n.jsx)(x.x6,{id:"pi+Tez"})}),(0,n.jsx)(s.r,{columns:t,spacing:2,children:Object.keys(c).map(e=>(0,n.jsx)(E,{textAmount:e,isSelected:l===e,onClick:()=>d(e)},e))})]})},y="24px",w={sm:{lines:3,columns:1},md:{lines:4,columns:1},lg:{lines:8,columns:2},xl:{lines:15,columns:3}},C=e=>{let{isSelected:t,delay:r,isLastLine:i=!1}=e;return(0,n.jsx)(o.a,{h:"2px",w:i?"60%":"100%",bg:t?"deepocean.600":"gray.300",borderRadius:"sm",transitionProperty:"transform, background-color",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:t?"".concat(r,"ms"):"0ms"})},k=e=>{let{lineCount:t,startDelay:r,isSelected:i,isLastColumn:a=!1}=e;return(0,n.jsx)(l.B,{spacing:"2px",flex:1,justifyContent:"flex-start",h:"100%",children:Array.from({length:t}).map((e,s)=>(0,n.jsx)(C,{isSelected:i,delay:r+35*s,isLastLine:a&&s===t-1},s))})},S=e=>{let{textAmount:t,isSelected:r}=e,{lines:i,columns:a}=w[t];if(1===a)return(0,n.jsx)(l.B,{spacing:"2px",h:y,w:"100%",justify:"flex-start",align:"flex-start",children:Array.from({length:i}).map((e,t)=>(0,n.jsx)(C,{isSelected:r,delay:35*t,isLastLine:t===i-1},t))});let s=Math.ceil(i/a),o=i-(a-1)*s;return(0,n.jsx)(d.s,{h:y,w:"100%",justify:"flex-start",align:"flex-start",gap:"4px",children:Array.from({length:a}).map((e,t)=>{let i=t===a-1;return(0,n.jsx)(k,{lineCount:i?o:s,startDelay:t*s*35,isSelected:r,isLastColumn:i},t)})})},I=e=>{let{textAmount:t,isSelected:r}=e,i=r?"trueblue.400":"gray.200",a=r?"deepocean.600":"gray.300";return"sm"===t?(0,n.jsx)(d.s,{h:y,w:"100%",align:"center",justify:"center",children:(0,n.jsx)(o.a,{h:"100%",w:"100%",bg:i,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:"0ms"})}):"md"===t?(0,n.jsxs)(l.B,{h:y,w:"100%",spacing:"2px",children:[(0,n.jsx)(o.a,{flex:1,bg:i,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"40%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(140,"ms"):"0ms"})]}):"lg"===t?(0,n.jsxs)(d.s,{h:y,w:"100%",align:"stretch",gap:"4px",children:[(0,n.jsx)(o.a,{flex:"0 0 40%",bg:i,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:"0ms"}),(0,n.jsxs)(l.B,{flex:1,spacing:"2px",justifyContent:"flex-start",children:[(0,n.jsx)(o.a,{h:"2px",w:"85%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(70,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"80%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(105,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"70%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(140,"ms"):"0ms"})]})]}):(0,n.jsxs)(d.s,{h:y,w:"100%",align:"stretch",gap:"4px",children:[(0,n.jsx)(o.a,{flex:"0 0 28%",bg:i,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(210,"ms"):"0ms"}),(0,n.jsxs)(l.B,{flex:1,spacing:"2px",justifyContent:"flex-start",children:[(0,n.jsx)(o.a,{h:"2px",w:"95%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(35,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"92%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(70,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"96%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(105,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"90%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(140,"ms"):"0ms"}),(0,n.jsx)(o.a,{h:"2px",w:"94%",bg:a,borderRadius:"sm",transitionProperty:"transform, background-color, opacity",transitionDuration:"250ms",transitionTimingFunction:"ease",transitionDelay:r?"".concat(175,"ms"):"0ms"})]})]})},E=e=>{let{textAmount:t,isSelected:r=!1,onClick:i=()=>{}}=e,a=(0,g.GV)(j.zQ)===p.xbH.Studio,s=(a?(0,f.Z)():(0,f.d)())[t];return(0,n.jsx)(m.Tz,{label:s.description(),placement:"top",children:(0,n.jsxs)(l.B,{as:c.$,h:"auto",textShadow:"none",variant:"plain",p:3,spacing:2,w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"1px solid",bg:r?"trueblue.50":void 0,borderRadius:"md",boxShadow:"sm",borderColor:r?"sky.600":"gray.200",color:r?"trueblue.700":"gray.800",onClick:i,_hover:{bg:"trueblue.50",borderColor:"trueblue.400"},position:"relative",children:[(0,n.jsx)(l.B,{spacing:1,w:"80%",maxW:"100px",children:a?(0,n.jsx)(I,{textAmount:t,isSelected:r}):(0,n.jsx)(S,{textAmount:t,isSelected:r})}),(0,n.jsx)(u.E,{fontSize:"sm",fontWeight:"medium",children:s.label()})]})})}},28205:(e,t,r)=>{r.d(t,{g:()=>i});var n=r(68301);let i=(e,t)=>{let r=n.of.get("aiSearchMode");return"disabled"!==r&&"generate"===e&&("always"===r||"optional"===r&&t)?{search:!0,searchInGenerate:n.of.get("aiSearchInGenerate"),searchProvider:n.of.get("aiSearchProvider")}:{search:!1}}},30944:(e,t,r)=>{r.d(t,{F:()=>i});var n=r(43183);let i={traceparent(e){let t=n.l.load(e);if(t)return t.traceparent},start(e,t,r){let i=n.l.create(t,e);return i.start({...r,startTime:Date.now()}),i},firstToken(e,t){let r=n.l.load(e);if(!r)return;let i=r.span.attributes;r.setAttributes({...t}),i.startTime&&"number"==typeof i.startTime&&r.setAttributes({timeToFirstToken:Date.now()-i.startTime})},onEagerStreamComplete(e){let t=n.l.load(e);if(!t)return;let r=t.span.attributes;r.startTime&&"number"==typeof r.startTime&&t.setAttributes({streamPromptDuration:Date.now()-r.startTime})},firstCardComplete(e){let t=n.l.load(e);if(!t)return;let r=t.span.attributes;r.startTime&&"number"==typeof r.startTime&&t.setAttributes({timeToFirstCard:Date.now()-r.startTime})},resume(e){let t=n.l.load(e);t&&t.setAttributes({isResumed:!0})},finish(e,t){let r=n.l.load(e);if(!r)return;let i=r.span.attributes;if("object"==typeof i.input&&"number"==typeof i.input.numCards&&i.input.numCards>0&&r.setAttributes({percentCardsFulfilled:Math.round(100*t.numCards/i.input.numCards)}),i.startTime&&i.streamPromptDuration){let e=Date.now()-i.startTime;r.setAttributes({streamEdgingRatio:e/i.streamPromptDuration,streamTotalDuration:e})}r.setAttributes({result:{numCards:t.numCards}}),r.complete()},abort(e,t){let r=n.l.load(e);r&&(r.setAttributes({abortReason:t}),r.abort())},error(e,t){let r=n.l.load(e);r&&r.error(t)}}},32805:(e,t,r)=>{r.d(t,{D:()=>h});var n=r(6029),i=r(10500),a=r(85595),s=r(58959),o=r(62176),l=r(48810),d=r(29810),c=r(48621),u=r(55729),m=r(8139),x=r(38390);let p={deck:"generationPreferredDeckStyle",document:"generationPreferredDocumentStyle",social:"generationPreferredSocialStyle"},h=e=>{let{onSelectStyleTemplate:t,docFormatCategory:r,selectedStyleTemplate:h}=e,{updateUserSettings:g}=(0,x.T)(),f=(0,u.useCallback)((e,t)=>{let r=p[e];r&&g({set:{[r]:t}})},[g]);return(0,n.jsx)(n.Fragment,{children:r.styleTemplates.map(e=>{let u=m.S9[e];return(0,n.jsx)(a.D,{id:e,role:"group",transition:"none",onClick:()=>{f(r.formatType,e),t(e)},children:(0,n.jsxs)(s.z,{cursor:"pointer",spacing:"2",w:"100%",children:[h&&(0,n.jsx)(o.Z,{fontSize:"0.8em",opacity:+(h===e),children:(0,n.jsx)(i.S,{})}),(0,n.jsx)(c.g,{fixedWidth:!0,icon:u.icon}),(0,n.jsx)(l.E,{children:u.label()}),(0,n.jsx)(d.h,{}),(0,n.jsx)(l.E,{color:"gray.500",fontSize:"sm",children:u.cardDimensionsDesc()})]})},e)})})}},41405:(e,t,r)=>{r.d(t,{e:()=>er});var n=r(6029),i=r(40452),a=r(55729),s=r(15342),o=r(49023),l=r(7554),d=r(30034),c=r(29608),u=r(11403),m=r(26420),x=r(57405),p=r(49611),h=r(83004),g=r(55597),f=r(48621),b=r(87386),j=r(19564),v=r(18833),y=r(30361),w=r.n(y),C=r(9922),k=r.n(C),S=r(83370),I=r(82550),E=r(95889),R=r(40077),T=r(84646),A=r(5747),D=r(77387),_=r(19430),P=r(45143),V=r(60908),z=r(70557),L=r(61097),G=r(79459);let M=(0,v.P)(m.a),F=e=>{let{card:t,theme:r,...i}=e,s=(0,a.useMemo)(()=>{if(t)return(0,b.createDocWithCards)({},[t])},[t]);return(0,n.jsx)(M,{pointerEvents:"none",sx:{"*":{backdropFilter:"none !important",transitionProperty:"background-color, color, border-color, padding, margin, width, maxWidth, fontSize",transitionDuration:".15s",[".button .".concat(R.U6)]:{transitionProperty:"none"}},".doc-content-wrapper *[data-doc-background-element], .motion-present-mode-bg":{display:"none"},".card-wrapper,.card-body,.doc-content-wrapper":{padding:0,margin:0,minHeight:"auto"},"[data-card-body]":{"--card-color-transparent":"var(--card-color)","--card-background-color":"var(--card-color)","--card-width":"60rem"},".logo":{display:"none"}},...i,children:s&&r&&(0,n.jsx)(D.S,{content:s,initialContent:s,theme:r})})},O=(e,t,r)=>{let n=0,i=e=>{var a;return null==(a=e.content)?void 0:a.map(e=>{var a,s,o,l,d,c,u;let m={...e,attrs:{...e.attrs}};if("image"===e.type){let e=t.shift();e&&(m.attrs.src=e.imageUrl,m.attrs.tempUrl=e.imageUrl)}if("cardAccentLayoutItem"===e.type&&(null==(o=e.attrs)||null==(s=o.background)||null==(a=s.image)?void 0:a.src)){let e=null==r||null==(u=r.config)||null==(c=u.accentBackgrounds)?void 0:c[n];e&&(n++,m.attrs.background=e)}if("smartLayoutCell"===e.type&&(null==(d=e.attrs)||null==(l=d.image)?void 0:l.src)==="custom"){let e=t.shift();e&&(m.attrs.image.src=e.imageUrl,m.attrs.image.tempUrl=e.imageUrl)}return e.content&&(m.content=i(m)),m})};return Object.assign({},e,{content:i(e)})},N=e=>{e&&requestAnimationFrame(()=>{var t;return null==(t=document.querySelector('[data-theme-id="'.concat(e,'"]')))?void 0:t.scrollIntoView({behavior:"smooth"})})},U=e=>{let{images:t}=e,r=(0,s.jL)(),o=(0,s.GV)(l.ST),d=(0,s.GV)(l.kl),u=(0,E.st)(),m=(0,_.fL)(),[b,v]=(0,z.R7)("themeId"),y=(0,s.GV)(S.zQ),C=(0,a.useCallback)(e=>{v(e),null==u||u.track(E.VV.AI_DOC_CREATION_THEME_CLICKED,{themeId:e||"none",device:(0,c.ZI)(),generationType:y})},[u,v,y]),R=o.find(e=>b===e.id);(0,a.useEffect)(()=>{if(b||!(null==o?void 0:o.length))return;r((0,l.U7)({activeView:"standard"}));let e=w()(d),t=(null==m?void 0:m.defaultThemeId)||(null==e?void 0:e.id);t&&(v(t),N(t))},[r,b,d,o,v,null==m?void 0:m.defaultThemeId]);let D=(0,a.useMemo)(()=>O(k()((0,I.O)()),k()(t),R).content[0].content||[],[R,t]),M=(0,a.useCallback)(()=>{if(!o)return;let e=w()(o);e&&(v(e.id),(null==e?void 0:e.workspaceId)?r((0,l.U7)({activeView:"custom"})):r((0,l.U7)({activeView:"standard"})),N(null==e?void 0:e.id))},[r,v,o]),U=(0,P.h5)({base:0,"4xl":300})||0,W=(0,P.h5)({base:600,xl:250,"4xl":0})||0,B=(0,P.h5)({base:0,xl:1})||0,q=(0,P.h5)({base:.5,lg:.6,xl:.7,"2xl":.85,"3xl":1,"4xl":1.125});return(0,a.useEffect)(function(){o&&0!==o.length&&Promise.all(o.map(e=>{var t,r,n,i,a,s,o,l,d,c;(null==(n=e.config.accentBackgrounds)||null==(r=n[0])||null==(t=r.image)?void 0:t.src)&&(0,V.GV)(null==(l=e.config.accentBackgrounds)||null==(o=l[0].image)?void 0:o.src),(null==(s=e.config.accentBackgrounds)||null==(a=s[1])||null==(i=a.image)?void 0:i.src)&&(0,V.GV)(null==(c=e.config.accentBackgrounds)||null==(d=c[1].image)?void 0:d.src)}))},[o]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G.a,{theme:R}),(0,n.jsxs)(i.s,{zIndex:1,py:0,px:6,"data-theme-desktop-root":!0,position:"relative",children:[(0,n.jsx)(h.mL,{styles:{html:{overflowX:"hidden",overflowY:"auto"}}}),(0,n.jsxs)(i.s,{direction:"column",pos:"relative",flex:1,h:"100%",transform:"scale(".concat(q,")"),justifyContent:"center",alignItems:"center",ms:[40,35,30,20,0],"data-id":"theme-picker-desktop-cards",children:[(0,n.jsx)(F,{pos:"absolute",theme:R,card:D[2],initial:{opacity:0},animate:{opacity:1,translateX:0,transition:{opacity:{duration:.5,delay:0,ease:"easeOut"},default:{duration:2,ease:"easeOut"}}},zIndex:1}),(0,n.jsx)(F,{pos:"absolute",theme:R,card:D[0],initial:{translateX:0,opacity:0},animate:{translateX:U,translateY:W,rotate:-B,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}}),(0,n.jsx)(F,{pos:"absolute",theme:R,card:D[1],initial:{translateX:0,opacity:0},transformOrigin:"center",animate:{translateX:-U,translateY:-W,rotate:B,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}})]}),(0,n.jsxs)(i.s,{w:"420px",p:6,direction:"column",justifyContent:"center",bg:"whiteAlpha.900",borderRadius:"lg",h:"calc(100vh - var(--chakra-sizes-20))",minH:"700px",mb:4,shadow:"md",pos:"relative",position:"sticky",mt:6,children:[(0,n.jsx)(A.D,{title:(0,n.jsx)(j.x6,{id:"cQGp8b"}),description:(0,n.jsxs)(x.T,{w:"100%",align:"center",justify:"center",children:[(0,n.jsx)(L.I,{w:"100%",children:(0,n.jsx)(j.x6,{id:"ziAjHi"})}),(0,n.jsx)(p.$,{w:"100%",leftIcon:(0,n.jsx)(f.g,{icon:g.tW,color:"var(--chakra-colors-trueblue-800)"}),size:"md",onClick:M,children:(0,n.jsx)(j.x6,{id:"B8w15Q"})})]}),stackProps:{pb:4},currentTheme:R,showCreateButtons:!1}),(0,n.jsx)(T.oz,{shouldScrollToCurrent:!0,currentTheme:R,setTheme:e=>{C(null==e?void 0:e.id)},flexProps:{overflowY:"auto",mx:-6,px:3},disableEditing:!0})]})]})]})};var W=r(26385),B=r(23293),q=r(48810),H=r(61204),$=r(58959),K=r(99492),X=r(74158),Z=r(75178),J=r(88586),Q=r(51932),Y=r(62452),ee=r(82927);let et=()=>{let e=(0,a.useRef)(!1),t=(0,s.GV)(l.WI),r=(0,s.GV)(l.kl),o=(0,E.st)(),d=(0,s.GV)(S.zQ),[u,x]=(0,z.R7)("themeId",{debounce:500}),[g,b]=(0,a.useState)(()=>t.find(e=>e.id===u)),v=(0,X.wA)(),{currentWorkspace:y}=(0,ee.ur)(),{data:C}=(0,J.Vl$)({variables:{id:null==y?void 0:y.id},skip:!(null==y?void 0:y.id)}),k=null==C?void 0:C.workspace,I=(0,s.GV)(l.cE),R=(0,s.GV)(l.yD),T=g?(0,Y.Mw)(g):void 0;(0,a.useEffect)(()=>{if(u||!(null==r?void 0:r.length)||e.current)return;let n=w()(r),i=t.find(e=>e.id===(null==k?void 0:k.defaultThemeId))||n;if(i){var a;v((0,l.U7)({activeView:"standard"})),b(i),null==(a=document.querySelector('[data-theme-mobile-preview="'.concat(i.id,'"]')))||a.scrollIntoView(),e.current=!0}},[v,r,u,t,null==k?void 0:k.defaultThemeId]),(0,a.useEffect)(()=>{var t;!e.current&&u&&g&&(g.workspaceId?v((0,l.U7)({activeView:"custom"})):v((0,l.U7)({activeView:"standard"})),null==(t=document.querySelector('[data-theme-mobile-preview="'.concat(g.id,'"]')))||t.scrollIntoView(),e.current=!0)},[v,g,u]);let A=(0,a.useCallback)(e=>{if(!(e.target instanceof HTMLElement))return;let{scrollLeft:r,scrollWidth:n,clientWidth:i}=e.target,a=Math.round(r/(n-i)*(t.length-1)),s=t[a];(null==s?void 0:s.id)!==(null==g?void 0:g.id)&&b(s)},[t,null==g?void 0:g.id,b]),_=(0,a.useCallback)(()=>{(null==g?void 0:g.id)&&(x(g.id),null==o||o.track(E.VV.AI_DOC_CREATION_THEME_CLICKED,{themeId:g.id,device:(0,c.ZI)(),generationType:d}))},[o,d,null==g?void 0:g.id,x]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G.a,{theme:g}),(0,n.jsxs)(W.B,{spacing:0,h:"100%",w:"100vw",children:[(0,n.jsx)(h.mL,{styles:{html:{height:"100%"},body:{height:"100%"}}}),(0,n.jsxs)(W.B,{spacing:0,mx:"auto",zIndex:1,px:6,pt:20,sx:D.o,w:"100%",children:[(0,n.jsxs)(W.B,{align:"center",spacing:1,children:[(0,n.jsx)(B.D,{variant:"brand",letterSpacing:"-0.04em",fontWeight:"700",color:T?"#FFFFFF":"#0a1629",w:"100%",size:"2xl",transitionProperty:"common",transitionDuration:"normal",children:(0,n.jsx)(j.x6,{id:"cQGp8b"})}),(0,n.jsx)(q.E,{fontSize:"lg",color:T?"#FFFFFF":"#0a1629",letterSpacing:"-0.04em",transitionProperty:"common",transitionDuration:"normal",children:(0,n.jsx)(j.x6,{id:"950yV9"})})]}),I&&(0,n.jsxs)(H.e,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",pt:2,justifyContent:"center",children:[(0,n.jsx)(p.$,{borderRadius:"full",leftIcon:(0,n.jsx)(f.g,{icon:K.ffg,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===R?void 0:"gray",bg:"custom"===R?"deepocean.100":"gray.50",onClick:()=>v((0,l.U7)({activeView:"custom"})),children:(0,n.jsx)(j.x6,{id:"8Tg/JR"})}),(0,n.jsx)(p.$,{borderRadius:"full",leftIcon:(0,n.jsx)(m.a,{w:3.5,children:(0,n.jsx)(Z.T,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===R?void 0:"gray",bg:"standard"===R?"deepocean.100":"gray.50",onClick:()=>v((0,l.U7)({activeView:"standard"})),children:(0,n.jsx)(j.x6,{id:"TJBHlP"})})]})]}),(0,n.jsx)(i.s,{zIndex:1,pos:"relative",overflow:"auto",py:8,sx:{"scroll-snap-type":"x mandatory"},onScroll:A,children:(0,n.jsx)($.z,{flex:1,spacing:6,px:12,pt:1,children:t.map(e=>(0,n.jsx)(Q.s,{isSelected:e.id===(null==g?void 0:g.id),theme:e},e.id))})}),(0,n.jsx)(i.s,{px:6,py:4,mb:2,justify:"center",zIndex:9,w:"100%",children:(0,n.jsx)(L.I,{size:"lg",w:"100%",onClick:_,children:(0,n.jsx)(j.x6,{id:"ziAjHi"})})})]})]})},er=(0,a.memo)(e=>{let{images:t=[]}=e;(0,o.t)();let r=(0,s.GV)(l.ST);return(0,u.En)()&&(null==r?void 0:r.length)?(0,n.jsxs)(i.s,{direction:"column",justifyContent:"flex-start",flex:1,w:"100vw",h:"100%",children:[(0,n.jsx)(d.s,{}),(0,c.Xb)()?(0,n.jsx)(et,{}):(0,n.jsx)(U,{images:t})]}):null});er.displayName="ThemeStep"},42343:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(55729),i=r(12733),a=r(82927);let s=e=>{let{currentWorkspace:t}=(0,a.ur)(),r=null==t?void 0:t.id;(0,n.useEffect)(()=>{e&&!e.isDestroyed&&r&&e.commands.initializeUploadExtension(r)},[e,r]),(0,i.W)(e)}},44975:(e,t,r)=>{r.d(t,{n:()=>f,s:()=>g});var n=r(6029),i=r(61204),a=r(49611),s=r(99492),o=r(48621),l=r(47412),d=r(77650),c=r(55729),u=r(83370),m=r(87827),x=r(15342),p=r(45143),h=r(70557);let g=()=>({freeform:{label:()=>d.Ru._({id:"Jn5DbR"}),icon:s.ecg,description:()=>d.Ru._({id:"f15rRF"}),tip:()=>d.Ru._({id:"y8DgoV"})},structured:{label:()=>d.Ru._({id:"2PPaNm"}),icon:s.vGi,description:()=>d.Ru._({id:"on9ayD"}),tip:()=>d.Ru._({id:"G7ngQL"})}}),f=(0,c.memo)(e=>{let{onChangeMode:t}=e,[r,s]=(0,h.R7)("editorMode"),d=(0,x.GV)(u.OM),c=(0,p.h5)({base:!1,sm:!0}),f=(0,m.n)(g);return(0,n.jsx)(i.e,{isAttached:!0,isDisabled:d,children:Object.entries(f).map(e=>{let[i,{label:d,description:u,icon:m}]=e,x=i===r;return(0,n.jsx)(l.Tz,{label:u(),placement:"top",children:(0,n.jsx)(a.$,{size:"sm",leftIcon:c?(0,n.jsx)(o.g,{icon:m,fixedWidth:!0}):void 0,variant:x?"plainSelected":"plain",onClick:()=>{s(i),null==t||t()},boxShadow:"none",children:d()})},i)})})});f.displayName="ModeSwitcher"},50278:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(6029),i=r(40452),a=r(24302),s=r(18833),o=r(55729);let l=(0,s.P)(i.s),d=(0,o.memo)(e=>{let{children:t}=e,r=(0,a.dU)("gray.700","white"),i=(0,a.dU)("white","gray.700"),s=(0,a.dU)("blackAlpha.200","whiteAlpha.200");return(0,n.jsx)(l,{"data-testid":"sticky-bottom-bar",bg:i,color:r,py:3,position:"fixed",zIndex:"10",initial:{opacity:0,bottom:-10},animate:{opacity:1,bottom:0},exit:{opacity:0,bottom:0},borderTop:"1px solid",borderColor:s,px:{base:3,md:4},direction:"column",align:"center",w:"100%",children:t})});d.displayName="StickyBottomBar"},51932:(e,t,r)=>{r.d(t,{s:()=>v});var n=r(6029),i=r(26420),a=r(40452),s=r(26385),o=r(48810),l=r(21938),d=r(55729),c=r(90221),u=r(62452),m=r(61385),x=r(62171),p=r(60908),h=r(58240),g=r(55670),f=r(95571),b=r(40077),j=r(95714);let v=(0,d.memo)(e=>{let{theme:t,isSelected:r=!1}=e,{contentStyles:d}=t.config,v=(0,x.fS)(t),y=(0,u.Mw)(t),w=(0,j.ZI)(t),C=(0,g.S)(t,!1),k=(0,x.FD)(v,y,p.XS),{inViewport:S,ref:I}=(0,h.v)({dimensions:{width:350,height:220}});return!1===S?(0,n.jsx)(i.a,{ref:I,"data-placeholder":!0,"data-theme-mobile-preview":t.id,w:"100%",children:(0,n.jsx)(a.s,{w:"calc(100vw - 5rem)",minH:"10em",sx:{"scroll-snap-align":"center"},color:"transparent",bg:"whiteAlpha.100",children:t.name})}):(0,n.jsx)(i.a,{css:w,sx:C,ref:I,w:"100%","data-theme-mobile-preview":t.id,children:(0,n.jsxs)(a.s,{flexDir:"column",w:"calc(100vw - 5rem)",sx:{"scroll-snap-align":"center"},borderRadius:"lg",shadow:r?"outline":"xl",overflow:"hidden",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"ease-out",pos:"relative",...k,children:[(0,n.jsx)(c.m,{theme:t}),(0,n.jsx)(i.a,{sx:{...f.CO,...d},borderRadius:"base",className:"".concat(m._P," ").concat(y?"is-dark":""),color:y?"white":"gray.800",flex:1,pointerEvents:"none",children:(0,n.jsxs)(s.B,{p:6,children:[(0,n.jsx)(o.E,{className:"block-title",noOfLines:1,wordBreak:"break-all",mt:"0 !important",mb:"var(--chakra-space-2) !important",children:(0,n.jsx)(o.E,{as:"span",className:(0,l.cx)("title",b.U6),fontSize:"1.8em !important",paddingBottom:"0 !important",children:t.name})}),(0,n.jsxs)(o.E,{fontSize:"sm",noOfLines:[4,6],className:"block block-paragraph",my:"0 !important",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus iaculis sagittis."," ",(0,n.jsxs)(o.E,{as:"a",className:"link",children:[" ","Fusce pellentesque quam tortor,"]})," ","sit amet vulputate ligula sollicitudin nec. Etiam consectetur leo sed elit euismod, eget suscipit purus ullamcorper. Etiam id viverra purus. Nulla hendrerit sapien eget dui egestas posuere. Cras tristique condimentum tristique. Sed pellentesque felis sed justo ullamcorper molestie. Vestibulum et condimentum nibh, non pellentesque nisi."]})]})})]})})});v.displayName="ThemePreviewThumbnailMobile"},61097:(e,t,r)=>{r.d(t,{I:()=>em});var n=r(6029),i=r(46898),a=r(40452),s=r(49611),o=r(55597),l=r(48621),d=r(47412),c=r(77650),u=r(55729),m=r(37471),x=r(26814),p=r(95889),h=r(82927),g=r(30361),f=r.n(g),b=r(58495),j=r(81278),v=r(24171),y=r(51272),w=r(71438),C=r(30944),k=r(73549),S=r(12419),I=r(74553),E=r(13559),R=r(52077),T=r(88586),A=r(68301),D=r(58809),_=r(65421),P=r(13080),V=r(15342),z=r(20715),L=r(99552),G=r(44141),M=r(95695),F=r(1057),O=r(8139),N=r(51817),U=r(55292),W=r(29608),B=r(9118),q=r(1620),H=r(28205),$=r(83370),K=r(81807);let X=e=>"condense"===e.textMode?"big":"preserve"===e.textMode?"preserve":"fast",Z=e=>{let t=X(e),r="preserve"===t?A.of.get("generateDeckPreserveModel"):"big"===t?A.of.get("generateDeckBigModel"):A.of.get("generateDeckFastModel"),n="none";return"preserve"===t&&(n=A.of.get("generateDeckReasoningEffort")),{size:t,model:r,reasoningEffort:n}};var J=r(87386),Q=r(35605),Y=r(34832),ee=r(89942),et=r(70006),er=r(88490);let en=()=>{let{push:e}=(0,j.useRouter)(),[t]=(0,T.Ybb)(),r=(0,A.u)("createSiteAi"),n=(0,ee.Fd)(),{generate:i}=(0,Y.pt)("DetermineSiteMetadata",{}),[a]=(0,T.g1r)(),[s]=(0,T.vlJ)(),[o]=(0,T.cGn)();return{canCreateSite:r&&n,createSiteWithAIAndRedirect:(0,u.useCallback)(async r=>{let{workspaceId:n,docId:l,themeId:d,generateVars:u,firstCards:m}=r,x=m[0]?(0,J.getCardTitle)(m[0].content):void 0,{data:p}=await t({variables:{input:{workspaceId:n,name:x||c.Ru._({id:"h3eRam"}),routes:[{docId:l,path:"/"}],themeId:d}}}),h=null==p?void 0:p.createSite;if(!h){console.error("[CreateSiteModal] Failed to create site, no site returned"),e("/docs/".concat(l,"?source=").concat(R.MH));return}try{let e=m.map(e=>e.raw).join("\n"),{language:t,topic:r,input:d}=u,{promise:c}=i({workspaceId:n,variables:{topic:r||"",input:d,language:t,pageHtml:e}}),x=await c,{title:p,subdomain:g}=(0,er.d)(x);g=(0,Q.Fw)(g);let f="string"==typeof g&&g.length<=60&&/^[a-z0-9-]+$/.test(g.toLowerCase()),b=[];f&&b.push(a({variables:{input:{siteId:h.id,name:g}}})),p&&b.push(s({variables:{input:{siteId:h.id,name:p}}}),o({variables:{id:l,title:p}})),await Promise.all(b)}catch(e){console.error("(caught) useGenerateSite error: ".concat(e))}e((0,et.pF)({docId:l,params:{source:R.MH}}))},[t,e,i,a,s,o])}};var ei=r(70557),ea=r(3487),es=r(74171);let eo=()=>{let{push:e}=(0,j.useRouter)(),[t]=(0,T.Imo)(),{generate:r}=(0,Y.pt)("DeterminePageMetadata",{}),[n]=(0,T.cGn)(),i=(0,A.u)("createFilePage");return{setPageMetadataWithAIAndRedirect:(0,u.useCallback)(async a=>{let{site:s,docId:o,workspaceId:l,generateVars:d,firstCards:c}=a;try{let{language:e,topic:a,input:u}=d,m=s.routes.map(e=>{var t;return{title:null==(t=e.doc)?void 0:t.title,path:e.path}}),x=c.map(e=>e.raw).join("\n"),p=c[0]?(0,J.getCardTitle)(c[0].content):void 0,h=!0,{promise:g}=r({workspaceId:l,variables:{topic:a||"",input:u,language:e,otherPages:m,pageHtml:x}}),f=await g,{path:j,title:v}=(0,er.d)(f);v||(v=p||"Untitled page",h=!1),j||(j=(0,Q.Fw)(v)),j=(0,Q.Fw)(j),s.routes.some(e=>e.path===j)&&(j="".concat(j,"-").concat((0,b.Ak)(6)));let y=e=>t({variables:{input:{siteId:s.id,docId:o,path:(0,G.wK)(e),offline:!1}},refetchQueries:["GetSite"]}),w=[n({variables:{id:o,title:v,titleEdited:h}})];i||w.push(y(j).catch(e=>{if(e instanceof es.K&&(0,T.vIB)(e).find(e=>["duplicate_site_path","duplicate_doc_path"].includes(e)))return y("".concat(!j||"/"===j?(0,Q.Fw)(v):j,"-").concat((0,b.Ak)(5)));throw e})),await Promise.all(w)}catch(e){console.error("(caught) useSetPageMetadataWithAI error: ".concat(e))}e((0,et.pF)({docId:o,params:{source:R.MH}}))},[r,e,t,n,i])}},el=e=>{let{onSuccess:t,options:r}=e,n=(0,p.st)(),{push:i,query:a}=(0,j.useRouter)(),s=a.channelId,o=(0,V.CU)(),l=(0,V.GV)(L.Gd),d=(0,V.GV)(D.nU),{canCreateSite:c,createSiteWithAIAndRedirect:m}=en(),[x,g]=(0,ei.R7)("themeId"),{setPageMetadataWithAIAndRedirect:X}=eo(),[J]=(0,T.g5)(),[Q]=(0,T.nqW)(),[Y]=(0,T.cGn)(),[ee,et]=(0,u.useState)(!1),er=(0,A.u)("streamResumingEnabled"),es=(0,A.u)("createFilePage"),[el]=(0,ei.T7)(),{maxCards:eu}=(0,ea.Zq)(),{addToLocalThemeHistory:em}=(0,w.a)(),ex=(0,T.tzS)(T.xAr),ep=null==r?void 0:r.visualsMenuEnabled;return{generate:(0,u.useCallback)(async()=>{var e,a,u,x,j;let w,D,V,L,ee,en=o.getState(),ei=(0,$.gG)(en),ea=(0,$.nY)(en);if(!ea)throw Error("Cannot generate with no docGenerateInputId");et(!0);let eo=(0,h.P9)(),eh=(0,h.vp)();(0,h.HW)();let eg=(0,$.J$)(en),ef=(0,$.fg)(en),eb=(0,$.zQ)(en),ej=(0,B.xt)((0,$.Wt)("locale")(en)),ev=(0,$.Wt)("textAmount")(en),ey=(0,$.Wt)("audience")(en),ew=(0,$.Wt)("tone")(en),eC=(0,$.wS)(en),ek=(0,$.yR)(en),eS=(0,$.Wt)("cardContentType")(en),eI=(0,$.Wt)("imageLicense")(en),eE=(0,$.Wt)("imageProvider")(en),eR=null!=(e=(0,$.Wt)("imageModelAutoselect")(en))&&e,eT=el;if(ep){w=null!=(a=(0,$.Wt)("artStylePreset")(en))?a:(0,v.b)(),D=null!=(u=(0,$.Wt)("artStylePrompt")(en))?u:P.ll[w].prompt;let e=(0,$.Wt)("artStyleAdditionalKeywords")(en);e&&(D="".concat(D,". ").concat(e)),(eR||"studio"===eb&&!A.of.get("aiStudioModelPicker"))&&(eT=(0,_._)({cardContentType:eS}))}let eA=(0,$.Wt)("styleTemplate")(en),eD=(0,$.Wt)("imageStyle")(en),e_=(0,$.Wt)("textMode")(en),eP=(0,$.Wt)("editorMode")(en),eV=(0,q.ky)((0,$.qT)(en),eP),ez=(0,K.i7)(eV),eL="generate"!==eb,eG=(0,$.Wt)("searchRequested")(en),eM=(0,$.Wt)("themeId")(en),{search:eF,searchProvider:eO,searchInGenerate:eN}=(0,H.g)(eb,eG),eU=A.of.get("growthSkipThemePickerOnFirstDeck")&&"generate"===eb,eW=eM||(eU?f()(M.CU):l?l.themeId:void 0);eW&&em(eW),!eM&&eU&&(await g(eW),null==n||n.track(p.VV.SKIPPED_THEME_RANDOM_THEME_PICKED,{themeId:eW||"none"}));let eB=eW?(await ex({id:eW})).data.theme:void 0,eq=eB?(0,E.z)(eB):void 0,eH=eD?"Custom":"Theme";"aiGenerated"===eE&&!eD&&eB&&(eD=(0,F.xI)(eB));let e$=c&&"webpage"===eC&&!(null==d?void 0:d.id),eK=(0,G.dv)(l)||e$,{promptKey:eX}=ec({cardContentType:eS}),eZ=ed({textMode:e_,generationType:eb,format:eC,language:ej.englishName,cardContentType:eS}),{model:eJ,size:eQ,reasoningEffort:eY}=Z({numCards:ek,editorMode:eP,textMode:e_,textAmount:ev,generationType:eb,promptKey:eX,tokenLength:eg}),e0=eA;e0||"social"!==eC||(e0="social_portrait");let e1=(e0?{...O.S9[e0].docSettings()}:{})||{};("lg"===ev||"xl"===ev)&&"document"!==eC&&(e1.fontSize="sm"),e1.locale=(0,$.Wt)("locale")(o.getState());let e2={topic:"generate"===eb?ef:"",additionalInstructions:"generate"!==eb?ef:"",input:eV,language:ej.englishName,numCards:Math.min(ek,eu),format:eC,imageOptions:{model:eT,stylePrompt:eD,stylePreset:eH,license:eI,artStylePreset:w,artStylePrompt:D,visualsMenuEnabled:ep},textAmount:ev,audience:ey,tone:ew,textMode:e_,editorMode:eP,imageProvider:eE,search:eN,searchProvider:eO,cardDimensions:e1.cardDimensions,theme:eq,basePromptKey:eZ,blockFlags:(0,K.fc)()},e5={docFormatKey:eC,imageOptions:{license:eI,provider:eE,generateStyle:eD,model:eT,stylePreset:eH,artStylePreset:w,artStylePrompt:D,...ep?{visualsMenuEnabled:ep,modelAutoselect:eR}:{}},theme:eB,preserveLayouts:!1,cardDimensions:e1.cardDimensions,promptKey:eX},e4=null==(V=es&&(null==d?void 0:d.id)?null==(x=(await Q({variables:{docGenerateInputId:ea,fileId:d.id,options:{pageSettings:e1,aiOptions:{preserveLayouts:e5.preserveLayouts,imageOptions:e5.imageOptions},schemaVersion:N.f$},path:"/untitled-".concat((0,b.Ak)(5))}})).data)?void 0:x.generatePage:null==(j=(await J({variables:{docGenerateInputId:ea,fileId:null==d?void 0:d.id,options:{themeId:eK?void 0:eW||U.z.id,orgAccess:eK?T.aXG.Manage:void 0,docSettings:e1,aiOptions:{preserveLayouts:e5.preserveLayouts,imageOptions:e5.imageOptions},channels:s?[{channelId:s}]:void 0,schemaVersion:N.f$}}})).data)?void 0:j.generateDoc)?void 0:V.docGenerateInput.id;if(!e4)throw Error("No docGenerateInput.id to use as interactionId");if(!V)throw Error("Could not create doc");"studio"===eb&&ez&&Y({variables:{id:V.id,title:ez,titleEdited:!0}}).catch(e=>{console.error("Failed to set title from studio outline:",e)}),(0,y.wx)({artStylePreset:w,artStylePrompt:D,imageProvider:eE,imageModelAutoselect:eR,imageModel:eT});let{input:e6,topic:e7,additionalInstructions:e9,...e8}=e2;I.B.trackRequestSent(o,{interface:"wizard",streaming:!0,interactionId:e4,inputContent:e2.input,inputMessage:e2.topic||e2.additionalInstructions,inputData:{options:{...e5,theme:eW,imageModelAutoselect:eR},isGenerateV2:!0,isAdvancedMode:eL,generationType:eb,...e8,promptKey:eX,tokenLength:eg,docSettings:e1,modelSize:eQ,search:eF,searchInGenerate:eN,reasoningEffort:eY,iconProvider:A.of.get("aiIconProvider")},docId:V.id,docGenerationId:ei,docGenerateInputId:e4}),L=eb===T.xbH.Studio?C.F.start(e4,"generate-studio",{docId:V.id,workspaceId:null==eo?void 0:eo.id,input:{numCards:e2.numCards,format:eC,imageOptions:e5.imageOptions,promptKey:eX,basePromptKey:eZ,model:eJ,textAmount:ev,themeId:eW,styleTemplate:eA}}):C.F.start(e4,"generate-deck",{docId:V.id,workspaceId:null==eo?void 0:eo.id,input:{topic:e2.topic,numCards:e2.numCards,generationType:eb,isAdvancedMode:eL,format:eC,editorMode:eP,textMode:e_,imageProvider:eE,imageOptions:e5.imageOptions,cardDimensions:e1.cardDimensions,promptKey:eX,basePromptKey:eZ,model:eJ,docFormatKey:eC}});let{stream:e3,cancel:te}=(0,S.aO)({promptKey:eX,interactionId:e4,variables:{...e2,docId:V.id,model:eJ,reasoningEffort:eY},workspaceId:null==eo?void 0:eo.id},{streamId:V.id,streamResumingEnabled:er,traceparent:L.traceparent,retries:3});try{ee=await (0,k.Ct)({stream:e3,onCancel:te,interactionId:e4,traceparent:L.traceparent,options:e5,bufferCards:1,store:o,docId:V.id}).promise}catch(e){throw L.error(e),et(!1),e}if((0,z.cg)({doc_id:V.id,source:T.ALe.AiGenerated,extra:"v2"}),!l&&e$)await m({workspaceId:null==eh?void 0:eh.id,docId:V.id,generateVars:e2,themeId:eW,firstCards:ee.cards});else if(l)await X({docId:V.id,site:l,workspaceId:null==eo?void 0:eo.id,generateVars:e2,firstCards:ee.cards});else{let e=null==r?void 0:r.mobileDocGenerated,t=(0,W.Xb)()&&!e;i("/docs/".concat(V.id,"?source=").concat(R.MH).concat(t?"&isFirstMobileDocGeneration=true":""))}null==t||t()},[o,eu,l,ex,c,J,Q,s,er,g,n,m,X,Y,t,null==r?void 0:r.mobileDocGenerated,i,ep,null==d?void 0:d.id,es,el,em]),isGenerating:ee}},ed=e=>{let{textMode:t,generationType:r,format:n,language:i,cardContentType:a}=e;if("code"===a)return"GenerateDeckCodeCards";if("image"===a)return"GenerateDeckImageCards";if("preserve"===t)return A.of.get("generateDeckPreserveBasePrompt");let s=A.of.get("generateDeckBasePrompt");return"GenerateDeckLoose"!==s||"deck"===n&&"generate"===r&&i.startsWith("English")?s:"GenerateDeck1.5"},ec=e=>{let{cardContentType:t}=e;return"image"===t||"code"===t?{promptKey:"GenerateDeckWithLayout"}:{promptKey:A.of.get("generateDeckPrompt")}};var eu=r(12910);let em=(0,u.memo)(e=>{var t;let{children:r,onClick:g,visualsMenuEnabled:f,...b}=e,{onGenerateSuccess:j}=(0,m._2)(),v=(0,i.d)(),{user:y}=(0,h.ur)(),{isGenerating:w,generate:C}=el({onSuccess:j,options:{mobileDocGenerated:null==y||null==(t=y.settings)?void 0:t.mobileDocGenerated,visualsMenuEnabled:f}}),{canGenerate:k,cantGenerateReason:S}=(0,eu.w)(),I=(0,u.useCallback)(async()=>{null==g||g();try{await C()}catch(e){console.error("Error generating doc",e),v({title:c.Ru._({id:"lVr0qD"}),description:c.Ru._({id:"P+gnB7"}),status:"error",duration:5e3,isClosable:!0})}},[g,C,v]),E=(0,x.tO)(I,"generateV2",p.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2);return(0,n.jsx)(d.Tz,{label:S,isDisabled:k,children:(0,n.jsx)(a.s,{flex:"1",alignSelf:"stretch",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",children:(0,n.jsx)(s.$,{leftIcon:(0,n.jsx)(l.g,{icon:o.p7g}),variant:"solid",isLoading:w,loadingText:c.Ru._({id:"NOdFZR"}),isDisabled:w||!k,onClick:E,size:{base:"md",lg:"lg"},...b,children:r})})})});em.displayName="GenerateButton"},61216:(e,t,r)=>{r.d(t,{N:()=>U});var n=r(6029),i=r(57405),a=r(26420),s=r(40452),o=r(58959),l=r(29810),d=r(61204),c=r(49611),u=r(48810),m=r(26476),x=r(99492),p=r(48621),h=r(47412),g=r(19564),f=r(55729),b=r(81347),j=r(9623),v=r(70027),y=r(15342),w=r(53615),C=r(70557),k=r(51022),S=r(83370),I=r(44975),E=r(41781),R=r(29452),T=r.n(R),A=r(73326),D=r(54395),_=r(63255),P=r(36802),V=r(77093),z=r(1620),L=r(42343);let G={...D.q,...V.X,..._.X0},M=(0,f.memo)(e=>{let{...t}=e,r=(0,y.GV)(S.n7),a=(0,A.hG)({...t,extensions:z.CJ,editorProps:{attributes:{"data-testid":"ai-content-editor"}},immediatelyRender:!0});a.editorId=P.B;let o=(0,y.GV)(S.qo),l=(0,y.GV)(S.yR);(0,f.useEffect)(()=>{a.setEditable(!r)},[r,a]);let d=(0,f.useCallback)(()=>{a.chain().insertContentAt(a.state.doc.content.size,{type:"card",content:[{type:"paragraph"}]}).selectInsertedNode().run()},[a]);return(0,L.X)(a),(0,n.jsxs)(s.s,{flex:"1",direction:"column",sx:G,p:{base:2,md:3},children:[(0,n.jsx)(A.$Z,{editor:a,style:{wordBreak:"break-word",display:"flex",flexDirection:"column"}}),r&&(0,n.jsx)(i.T,{children:T()(o-l).map(e=>(0,n.jsx)(F,{},e))}),!r&&(0,n.jsx)(c.$,{boxShadow:"none",leftIcon:(0,n.jsx)(p.g,{icon:x.QLR,fixedWidth:!0}),onClick:d,children:(0,n.jsx)(g.x6,{id:"sFY+gw"})})]})});M.displayName="AICardEditor";let F=()=>(0,n.jsx)(E.E,{height:14,width:"100%",borderRadius:"md"});var O=r(24092),N=r(46312);let U=(0,f.memo)(e=>{let{showAddBreaks:t,showTopbar:r=!1,hideFooter:E=!1,containerProps:R,onEditorUpdate:T,showContentTip:A,onAddClick:D,isAdding:_,hideSectionBreaks:P=!1,isAddingBreaks:V,canAddBreaks:L,canRemoveBreaks:G,removeSectionBreaks:F,addSectionBreaks:U,onChangeMode:W}=e,B=(0,y.GV)(S.OM),q=(0,y.GV)(S.n7),{setEditorInstance:H}=(0,v.Tx)(),$=(0,C.b2)({debounce:500}),K=(0,y.CU)(),[X]=(0,C.R7)("editorMode"),Z=(0,f.useRef)(!1),J=(0,f.useCallback)(e=>{let{editor:t,transaction:r}=e;Z.current&&r.docChanged&&(null==T||T({editor:t}),$({content:(0,N.T)(t.state.doc,X)}))},[T,$,X]),Q=(0,y.GV)(S.J$),Y=(0,f.useCallback)(e=>{let{editor:t}=e;H(t);let r=(0,S.qT)(K.getState()),n=(0,w.uY)(r),i=(0,z.ZC)(n,X).content.toJSON();t.commands.setContent(i),Z.current=!0},[H,K,X]),ee="structured"===X,et=(0,y.GV)(S.qT),er=(0,y.GV)(S.yR),{maxTokens:en}=(0,k.is)();return(0,n.jsxs)(i.T,{borderRadius:"md",spacing:3,align:"start",opacity:B?.75:1,pointerEvents:B?"none":"inherit",cursor:B?"not-allowed":void 0,h:"100%",children:[A&&(0,n.jsxs)(a.a,{fontSize:"sm",pos:"relative",w:"100%",children:[(0,n.jsx)(g.x6,{id:"4b3oEV"})," ",(0,n.jsx)(h.qT,{label:(0,n.jsx)(g.x6,{id:"tztPjl"})})]}),(0,n.jsxs)(s.s,{flex:"1",w:"100%",bg:"white",borderRadius:"lg",boxShadow:"sm",direction:"column",children:[r&&(0,n.jsxs)(o.z,{position:"relative",py:2,mx:4,borderBottom:"1px",borderColor:"gray.200",children:[(0,n.jsx)(l.h,{}),(0,n.jsx)(I.n,{onChangeMode:W}),(0,n.jsx)(l.h,{}),t&&(0,n.jsxs)(d.e,{size:"sm",pos:{base:"static",lg:"absolute"},insetEnd:0,children:[G&&(0,n.jsx)(h.Tz,{label:(0,n.jsx)(g.x6,{id:"SAXakl"}),placement:"top",children:(0,n.jsx)(c.$,{onClick:F,boxShadow:"none",children:(0,n.jsx)(p.g,{icon:x.Ctj})})}),L&&(0,n.jsx)(h.Tz,{label:(0,n.jsx)(g.x6,{id:"SuUA6H"}),placement:"top",children:(0,n.jsx)(c.$,{boxShadow:"none",isLoading:V,onClick:()=>null==U?void 0:U(et),children:(0,n.jsx)(p.g,{icon:x.XGd,fixedWidth:!0})})})]})]}),"freeform"===X?(0,n.jsx)(O.I,{onUpdate:J,onCreate:Y,hideSectionBreaks:P,editorPadding:6,containerProps:R,placeholder:!q&&(0,n.jsx)(g.x6,{id:"xafDnF"})}):(0,n.jsx)(s.s,{fontSize:"sm",direction:"column",flex:"1",pos:"relative",...R,children:(0,n.jsx)(M,{onUpdate:J,onCreate:Y})}),!E&&(0,n.jsxs)(o.z,{fontSize:"sm",px:4,py:3,alignItems:"center",color:"gray.500",children:[ee?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.s,{flex:"1",children:(0,n.jsx)(u.E,{children:(0,n.jsx)(g.x6,{id:"Psk6LY",values:{cardCount:er}})})}),(0,n.jsx)(s.s,{flex:"2",justifyContent:"center",display:{base:"none",md:"flex"},children:(0,n.jsx)(u.E,{children:(0,n.jsx)(g.x6,{id:"c3ugvF",components:{0:(0,n.jsx)(m.u,{})}})})}),(0,n.jsx)(s.s,{flex:"1",justifyContent:"flex-end",children:(0,n.jsx)(b.n,{charCount:Q,max:en,shouldShow:!0,bg:"white",borderColor:"white",fontFamily:"mono"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h,{flex:"1"}),(0,n.jsx)(s.s,{flex:"2",justifyContent:"center",children:(0,n.jsx)(j.n,{})}),(0,n.jsx)(s.s,{flex:"1",justifyContent:"flex-end",children:(0,n.jsx)(b.n,{charCount:Q,max:en,shouldShow:!0,bg:"white",borderColor:"white",fontFamily:"mono"})})]}),D&&(0,n.jsx)(c.$,{variant:"solid",size:"sm",onClick:D,isLoading:_,leftIcon:(0,n.jsx)(p.g,{icon:x.p7g}),children:(0,n.jsx)(g.x6,{id:"sFY+gw"})})]})]})]})});U.displayName="AIGeneratorContent"},62864:(e,t,r)=>{r.d(t,{F:()=>I,H:()=>E});var n=r(6029),i=r(61204),a=r(16936),s=r(49611),o=r(58959),l=r(48810),d=r(26420),c=r(78140),u=r(36999),m=r(12514),x=r(41283),p=r(37930),h=r(48478),g=r(99492),f=r(48621),b=r(47412),j=r(19564),v=r(77650),y=r(55729),w=r(89528),C=r(74003),k=r(95889),S=r(3487);let I=(0,y.memo)(e=>{let{onIncrement:t,onDecrement:r,maxCards:c,cardCount:u,...m}=e,x={boxShadow:"sm",bg:"white"};return(0,n.jsxs)(i.e,{isAttached:!0,flex:"1",...m,children:[null!=u&&(0,n.jsx)(a.K,{display:"flex",onClick:r,icon:(0,n.jsx)(f.g,{icon:g.EZy}),"aria-label":v.Ru._({id:"MrRUp2"}),width:2,...x}),(0,n.jsx)(s.$,{flex:"1",...x,_hover:{color:"inherit"},cursor:"default",children:(0,n.jsx)(b.Tz,{label:(0,n.jsx)(j.x6,{id:"ukrE78"}),placement:"top",children:(0,n.jsx)(o.z,{spacing:1,cursor:"help",children:(0,n.jsxs)(l.E,{children:[(0,n.jsx)(d.a,{as:"span",css:{fontVariantNumeric:"tabular-nums"},children:u})," ",(0,n.jsx)(j.x6,{id:"MU+gFM",values:{0:null!=u?u:0}})]})})})}),null!=u&&(0,n.jsx)(a.K,{display:"flex",onClick:t,icon:(0,n.jsx)(f.g,{icon:g.QLR}),"aria-label":v.Ru._({id:"sFY+gw"}),width:2,isDisabled:u>=c,...x})]})});I.displayName="CardCountStepper";let E=(0,y.memo)(e=>{let{hint:t,cardCount:r,maxCards:i,onChange:a}=e,{openUpsellModal:d}=(0,C.I)(),{getUpgradeForCardCount:b}=(0,S.Zq)(),v=(0,y.useMemo)(()=>[...Array(i)],[i]),I=(0,y.useMemo)(()=>[15,20,25,30,40,50,75].filter(e=>e>i),[i]),E=(0,y.useCallback)(e=>{let t=b(e);t&&d({segmentEvent:k.VV.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER,targetFeature:t.feature})},[b,d]);return(0,n.jsxs)(c.W,{isLazy:!0,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right-start","right-end","right"]}}],children:[(0,n.jsx)(u.I,{size:"sm",boxShadow:"none",minW:"32",textAlign:"left",as:s.$,rightIcon:(0,n.jsx)(f.g,{size:"xs",icon:g.Jt$}),children:(0,n.jsx)(j.x6,{id:"fFAIng",values:{0:null!=r?r:0}})}),(0,n.jsx)(m.Z,{children:(0,n.jsx)(x.c,{zIndex:"tooltip",maxH:"90vh",overflow:"auto",children:(0,n.jsxs)(p.i,{maxW:"200px",title:t,onChange:e=>{let t=Number(e);if(t>i)return void E(t);a(t)},value:"".concat(r),children:[v.map((e,t)=>{let r=t+1;return(0,n.jsx)(h.k,{value:"".concat(r),children:(0,n.jsx)(j.x6,{id:"bM4Wv5",values:{count:r}})},r)}),I.map(e=>{let t=b(e);return t?(0,n.jsx)(h.k,{bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},value:"".concat(e),children:(0,n.jsxs)(o.z,{spacing:"3",children:[(0,n.jsx)(l.E,{w:"100%",children:(0,n.jsx)(j.x6,{id:"bM4Wv5",values:{count:e}})}),e>i&&(0,n.jsx)(w.zL,{product:t.product})]})},e):null})]})})})]})});E.displayName="CardCountDropdown"},63470:(e,t,r)=>{r.d(t,{I:()=>w});var n=r(6029),i=r(26385),a=r(40452),s=r(58959),o=r(83370),l=r(79704),d=r(15342),c=r(37605),u=r(48810),m=r(47412),x=r(19564),p=r(55729),h=r(62864),g=r(51272),f=r(70557),b=r(3487);let j=(0,p.memo)(e=>{let{...t}=e,r=(0,d.GV)(o.yR),[a,s]=(0,f.R7)("numCards"),{maxCards:l}=(0,b.Zq)(),c=(0,p.useCallback)(()=>{if(!r)return;let e=r>=g.BO&&r%g.pn==0?g.pn:1;s(Math.min(r+e,l))},[r,s,l]),j=(0,p.useCallback)(()=>{if(!r||1===r)return;let e=r>=g.BO+g.pn&&r%g.pn==0?g.pn:1;s(Math.max(r-e,1))},[r,s]),[v]=(0,f.R7)("editorMode"),y=r>l,w=Math.min(r,l);return"structured"===v?(0,n.jsx)(m.Tz,{label:(0,n.jsx)(x.x6,{id:"Zne1Sw"}),placement:"top",children:(0,n.jsxs)(i.B,{spacing:{base:.5,sm:2},flex:"1",justifyContent:"center",alignItems:"center",direction:{base:"column-reverse",sm:"row"},children:[(0,n.jsx)(u.E,{cursor:"help",fontSize:y?"xs":"lg",fontWeight:y?void 0:"600",textDecoration:y?"line-through":void 0,color:y?"gray.500":void 0,css:{textWrap:"nowrap"},textAlign:"center",children:(0,n.jsx)(x.x6,{id:"AZLIlg",values:{cardCount:r}})}),y&&(0,n.jsx)(u.E,{fontSize:{base:"md",sm:"lg"},fontWeight:"600",lineHeight:"1",children:(0,n.jsx)(x.x6,{id:"gcpsjO",values:{adjustedCardCount:w}})})]})}):(0,n.jsx)(h.F,{maxCards:l,cardCount:r,onIncrement:c,onDecrement:j,...t})});j.displayName="CardCountSettings";var v=r(6295),y=r(50278);let w=e=>{let{cta:t}=e,r=(0,d.GV)(o.OM);if((0,d.GV)(o.n7))return null;let u=(0,n.jsx)(l.f,{modalId:"ai-credits-modal-generate-v2",variant:"ghost",justify:"flex-end",segmentEvent:c.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2,alignSelf:"center"});return(0,n.jsx)(y.A,{children:(0,n.jsxs)(i.B,{w:"100%",direction:{base:"column-reverse",md:"row"},spacing:{base:2,md:4},alignItems:{base:"center",md:"flex-end"},children:[(0,n.jsx)(a.s,{flex:"1",children:u}),(0,n.jsxs)(i.B,{w:"2xl",maxW:"100%",overflow:"hidden",children:[(0,n.jsx)(v.NV,{}),(0,n.jsx)(v.Zy,{}),(0,n.jsx)(v.Kj,{}),(0,n.jsxs)(s.z,{spacing:{base:2,md:3},opacity:r?.75:1,pointerEvents:r?"none":"inherit",cursor:r?"not-allowed":"default",children:[(0,n.jsx)(j,{size:{base:"md",lg:"lg"}}),(0,n.jsx)(a.s,{flex:"1",alignItems:"stretch",flexDirection:"column",children:t})]})]}),(0,n.jsx)(a.s,{flex:"1",display:{base:"none",md:"flex"}})]})})}},73549:(e,t,r)=>{r.d(t,{f6:()=>v,Ct:()=>y,po:()=>j});var n=r(91285),i=r(53907),a=r(74553),s=r(40076),o=r(4765),l=r(83605),d=r(29614);class c extends n.Rv{constructor(e,t){super({transform:async(t,r)=>{if("data"!==t.event)return void r.enqueue(t);let{data:n}=t;try{let i;i=e.promptKey&&d.IU.includes(e.promptKey)?await (0,l.dE)(n):await (0,l.Lm)(n,{...e,cardIndex:this.index,loadImages:!1});let a={index:this.index,cardComplete:!0,content:i,id:i.attrs.id,raw:n};r.enqueue({id:t.id,event:"data",data:a})}catch(t){console.error("[aiHtmlToCard] Skipping card ".concat(this.index," due to error:\n"),t,"\n",n),o.l7("aiHtml",n),o.l7("transformOptions",e),o.Cp(t),s.yf.logger.error("[aiHtmlToCard] Skipping card ${this.index} due to error",{sectionHtml:n,transformOptions:e},t)}this.index++}}),this.index=0,null!=t&&(this.index=t+1)}}let u=e=>{let t=e.match(/(<[^>]+>|<\/[^>]+>)|\S+/g);if(!t)throw Error("Could not parse tokens");return t};class m extends n.Rv{constructor(e){super({transform:async(t,r)=>{if("data"!==t.event)return void r.enqueue(t);let n=t.data,i=performance.now()-this.startTime,a=u(n.raw);e({index:this.index,duration:i,numTokens:a.length}),this.index++,this.startTime=performance.now(),r.enqueue(t)}}),this.index=0,this.startTime=performance.now()}}class x extends n.Rv{constructor(){super({transform:async(e,t)=>{"done"===e.event||"cancel"===e.event?t.enqueue({...e,content:this.content}):(this.content+=e.data.raw||"",t.enqueue(e))}}),this.content=""}}class p extends n.Rv{extractNextCompleteSection(){let e=this._buffer.match(/<section(?:\s[^>]*)?>/i);if(!e||void 0===e.index)return null;let t=e.index,r=[...this._buffer.matchAll(/<section(?:\s[^>]*)?>/gi)],n=[...this._buffer.matchAll(/<\/section(?:\s[^>]*)?>/gi)];if(0===r.length||0===n.length)return null;let i=[...r.map(e=>({pos:e.index,type:"open",length:e[0].length})),...n.map(e=>({pos:e.index,type:"close",length:e[0].length}))].sort((e,t)=>e.pos-t.pos),a=0;for(let e of i)if(!(e.pos<t)){if("open"===e.type)a++;else if(0==--a){let r=e.pos+e.length,n=this._buffer.slice(t,r);return this._buffer=this._buffer.slice(r),n}}return null}constructor(){let e=(e,t)=>{let r;for(;null!==(r=this.extractNextCompleteSection());){let n=r+"\n\n";e.enqueue({id:t,event:"data",data:n})}};super({transform:async(t,r)=>{if("data"===t.event){if(!t.data)return;this._buffer+=t.data,e(r,t.id);return}this.lastId=t.id,r.enqueue(t)},flush:async t=>{e(t,this.lastId)}}),this._buffer=""}}class h extends n.Rv{constructor(){super({transform:(e,t)=>"done"===e.event?void t.enqueue({id:e.id,event:"done",finishReason:e.data,content:""}):"cancel"===e.event?void t.enqueue({id:e.id,event:"cancel",content:""}):"content"===e.event?void t.enqueue({id:e.id,event:"data",data:e.data}):void console.error("[StreamMessageEventParser] unknown event type",e)})}}var g=r(30944),f=r(34630);let b="CANCEL",j=e=>new n.Rv({transform(t,r){e(t),r.enqueue(t)}}),v=e=>{let{stream:t,docId:r,lastCompletedCardId:n,lastCompletedCardIndex:s,interactionId:o,traceparent:l,options:d,store:c}=e,[u,m]=w(t,d,s).tee(),x=u.pipeThrough(j(e=>{"done"===e.event&&a.B.trackStreamResponse(c,{interactionId:o,outputContent:e.content})}));(0,f.x_)(x,{}),c.dispatch((0,i.EX)({stream:{id:o,traceparent:l,status:"running",stream:m,docId:r,isResuming:!0,lastCompletedCardId:n}}));let p=(0,i.A0)(r)(c.getState());if(!p)throw Error("Expected valid StreamResponse when resuming from stream");return p},y=e=>{let t,{stream:r,onCancel:n,interactionId:s,traceparent:o,options:l,bufferCards:d=2,docId:c,store:u}=e,[x,p]=w(r,l).tee(),h=x.pipeThrough(new m(e=>{u.dispatch((0,i.cx)({interactionId:s,data:e}))})).pipeThrough(j(e=>{"done"===e.event&&(a.B.trackStreamResponse(u,{interactionId:s,outputContent:e.content}),g.F.onEagerStreamComplete(s))}));u.dispatch((0,i.EX)({stream:{id:s,traceparent:o,status:"running",stream:p,isResuming:!1,docId:c}}));let v=new Promise((e,r)=>{t=r;let n=[];(0,f.x_)(h,{onError:e=>{r(e)},onMessage(t){if("done"===t.event)return void e({status:"READY",cards:n});if("data"===t.event){let r=t.data.index+1;n.push(t.data),r>=d&&e({status:"READY",cards:n})}}})}).catch(e=>{if(e===b)return{status:"CANCELED",cards:[]};throw e}),y=!1;return{promise:v,cancel:()=>{y||(console.log("[AIStream] cancelling..."),y=!0,n(),null==t||t(b))}}},w=(e,t,r)=>e.pipeThrough(new h).pipeThrough(new p).pipeThrough(new c(t,r)).pipeThrough(j(e=>{"data"===e.event&&console.log("[AIStream] processed card ".concat(e.data.index+1))})).pipeThrough(new x).pipeThrough(j(e=>{"done"===e.event&&console.log("[AIStream] done (".concat(e.finishReason,")")),"cancel"===e.event&&console.log("[AIStream] cancelled")}))},74553:(e,t,r)=>{r.d(t,{B:()=>o});var n=r(11390),i=r(82927),a=r(17859),s=r(53907);let o={trackRequestSent(e,t){console.log("[AIStream] EVENT: ai.request.sent"),t.product=(0,n.A4)((0,i.vp)()),(0,a.rl)(t);let r=performance.now();e.dispatch((0,s.lC)({...t,startTime:r}))},trackStreamError(e,t){e.dispatch((0,s.Xu)({endTime:performance.now(),interactionId:t.interactionId}));let r=(0,s.U7)(t.interactionId)(e.getState());if(!r)return;let{startTime:n,...i}=r,{errorName:o,errorMessage:l,errorCode:d}=t,c={...i,errorName:o,errorMessage:l,errorCode:d,outputMessage:"",latency:performance.now()-n};console.log("[AIStream] EVENT: ai.request.error"),(0,a.tB)(c)},trackStreamAbort(e,t){let r=(0,s.U7)(t.interactionId)(e.getState());if(!r)return;let{startTime:n,...i}=r,o={...i,abortReason:t.abortReason,timeToAbort:performance.now()-n};console.log("[AIStream] EVENT: ai.request.abort"),(0,a.Hy)(o)},trackStreamStart(e,t){e.dispatch((0,s.o4)(t));let r=(0,s.U7)(t.interactionId)(e.getState());if(!r)return;let{startTime:n,...i}=r,o={...i,timeToStart:performance.now()-n};console.log("[AIStream] EVENT: ai.request.streamStart"),(0,a.xW)(o)},trackStreamResponse(e,t){e.dispatch((0,s.Xu)({endTime:performance.now(),...t}));let r=(0,s.U7)(t.interactionId)(e.getState());if(!r)return;let{startTime:n,...i}=r;console.log("[AIStream] EVENT: ai.request.response"),(0,a.Yh)(i)},trackStreamComplete(e,t,r){let n=(0,s.U7)(t)(e.getState());if(!n)return;let{startTime:i,...o}=n,l={...o,timeToComplete:performance.now()-i,...r};console.log("[AIStream] EVENT: ai.request.complete"),(0,a.UL)(l)}}},75610:(e,t,r)=>{r.d(t,{k:()=>g});var n=r(6029),i=r(78140),a=r(36999),s=r(49611),o=r(12514),l=r(41283),d=r(37930),c=r(99492),u=r(48621),m=r(77650),x=r(32805),p=r(8139),h=r(90010);let g=e=>{let{docFormatType:t,onSelectStyleTemplate:r,selectedStyleTemplate:g}=e;if("webpage"===t)return null;let f=(0,h.zY)(t),b=p.S9[g];return(0,n.jsxs)(i.W,{children:[(0,n.jsx)(a.I,{as:s.$,rightIcon:(0,n.jsx)(u.g,{size:"xs",icon:c.Jt$}),leftIcon:(0,n.jsx)(u.g,{size:"xs",icon:b.icon}),variant:"plain",boxShadow:"none",size:"sm",minW:"150px",textAlign:"start",w:"100%",flex:1,children:b.label()}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(l.c,{maxH:"50vh",overflowY:"scroll",zIndex:"tooltip",children:(0,n.jsx)(d.i,{title:m.Ru._({id:"oIhFvf"}),textAlign:"start",children:(0,n.jsx)(x.D,{docFormatCategory:f,onSelectStyleTemplate:r,selectedStyleTemplate:g})})})})]})}},77093:(e,t,r)=>{r.d(t,{X:()=>a});var n=r(66849),i=r(2067);let a={".ProseMirror":{flex:1,...n.F,...i.p},".block":{my:"0.5rem","&.first-block":{mt:"0px !important"},"&.last-block":{mb:"0px !important"}},".block-heading":{fontWeight:"bold",lineHeight:"1.125",_first:{mt:0}},h1:{fontSize:"1.4em"},h2:{fontSize:"1.2em"},h3:{fontSize:"1.1em"},"a[href]":{color:"var(--chakra-colors-trueblue-600)",textDecoration:"underline"}}},79459:(e,t,r)=>{r.d(t,{a:()=>d});var n=r(6029),i=r(26420),a=r(49023),s=r(62452),o=r(72386),l=r(62171);let d=e=>{let{theme:t}=e,r=(0,o.N)(),d=t||r,{isLoadingThemes:c}=(0,a.t)(),u=(0,l.fS)(d),m=(0,s.Mw)(d),x=(0,l.FD)(u,m);return(0,n.jsx)(i.a,{...c?{}:x,w:"100vw",h:"100%",position:"fixed",zIndex:-1,opacity:1,"data-theme-picker-background":!0,transitionProperty:"background-color, background-image",transitionDuration:"1s",inset:"0px"})}},81347:(e,t,r)=>{r.d(t,{n:()=>u});var n=r(6029),i=r(58959),a=r(65012),s=r(48810),o=r(55597),l=r(48621),d=r(47412),c=r(19564);let u=e=>{let{charCount:t,max:r,shouldShow:u,tooltipLabelExceeds:m,tooltipLabelDoesntExceed:x,units:p,...h}=e,g="";return u&&(g=t>r?null!=m?m:(0,n.jsx)(c.x6,{id:"YEfcBv"}):null!=x?x:(0,n.jsx)(c.x6,{id:"ZSr/Fa"})),(0,n.jsx)(d.Tz,{label:g,placement:"top",children:(0,n.jsxs)(i.z,{p:1,px:2,borderRadius:"md",display:"inline-flex",bg:t>r?"red.200":t>=.9*r?"orange.200":"transparent",color:t>r?"red.700":t>=.9*r?"orange.700":"gray.600",fontSize:"sm",cursor:"help",zIndex:1,opacity:+!!u,transitionProperty:"common",transitionDuration:"normal",borderWidth:"1px",borderColor:t>r?"red.300":t>=.9*r?"orange.300":"transparent",...h,children:[t>r?(0,n.jsx)(l.g,{icon:o.JAe}):(0,n.jsx)(a.P,{value:t/r*100,color:"blackAlpha.700",trackColor:"blackAlpha.200",thickness:"12px",size:4}),(0,n.jsxs)(s.E,{children:[t,"/",r,p?" ".concat(p):""]})]})})}}}]);
//# sourceMappingURL=9194-784cd7824ba7b527.js.map