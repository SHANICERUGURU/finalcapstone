(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4745],{2318:(e,i,s)=>{"use strict";s.d(i,{Hz:()=>t});let n=e=>(i,s)=>i.id===e?1:s.id===e?-1:0,t=(e,i)=>[...e].sort(n(i))},8909:(e,i,s)=>{"use strict";s.d(i,{q:()=>T});var n=s(81278),t=s.n(n),l=s(55729),a=s(92437),r=s(15342),o=s(95889),d=s(82927),c=s(20939),u=s(68422),x=s(38944),h=s(6029),p=s(46898),j=s(26385),m=s(48810),b=s(49611),g=s(19564),f=s(88586),v=s(73616);let y=e=>{let{currentChannelId:i,activeChannel:s,workspaceId:n}=e,a=(0,p.d)(),r="channel-preview",{joinChannel:o}=(0,v.Z)(),{data:d,called:c,error:u,loading:y}=(0,f.pc2)({variables:{id:i,workspaceId:n},skip:s||!i||!n}),E=i&&!s&&(null==d?void 0:d.channel)?d.channel:null;return(0,l.useEffect)(()=>{u&&console.error("[useChannelsData] Error fetching channelPreview",u),(u||c&&E&&E.archived)&&t().replace("/#".concat(x.Jj))},[u,E,c,y]),(0,l.useEffect)(()=>{let e=i&&E;if(e||a.close(r),e){let e=E.name;a.isActive(r)||a({id:r,duration:null,position:"top",isClosable:!0,title:(0,h.jsxs)(j.B,{direction:"row",children:[(0,h.jsx)(m.E,{flex:1,children:(0,h.jsx)(g.x6,{id:"REl4b1",values:{channelName:e}})}),(0,h.jsx)(b.$,{size:"sm",width:"fit-content",display:"block",onClick:()=>{if(!i||!E)return void console.error("No active channel id");o({channel:{...E},workspaceId:n}).then(()=>{a.close(r)})},variant:"solid",children:(0,h.jsx)(g.x6,{id:"0wdd7X"})})]})})}return()=>{a.close(r)}},[i,E,o,a,n]),{channelPreview:E}},E=e=>{let{workspaceId:i,user:s}=e,{query:t}=(0,n.useRouter)(),a=Array.isArray(t.channelSlug)?t.channelSlug[0]:t.channelSlug,r=a?a.slice(-15):null,{data:o,loading:d,subscribeToMore:c}=(0,f.oXG)({variables:{workspaceId:i},skip:!s||!s.workspaceMemberships||!i,returnPartialData:!0});(0,l.useEffect)(()=>{if(c&&i)return c({document:f.U1V,variables:{workspaceId:i},onError:e=>{}})},[c,i]);let u=((null==o?void 0:o.channels)||[]).filter(e=>e.isMember&&!e.archived).sort((e,i)=>e.slug.localeCompare(i.slug,"en")),x=u.find(e=>e.id===r),{channelPreview:h}=y({currentChannelId:r,activeChannel:x,workspaceId:i});return{channelPreview:h,currentChannelId:r,channels:u,isChannelsLoading:d,activeChannel:x}},C=e=>{let{currentChannel:i,currentWorkspaceId:s}=e,{replace:t}=(0,n.useRouter)();(0,l.useEffect)(()=>{s&&i&&i.workspaceId!==s&&t("/")},[i,s,t])};var _=s(95975),w=s(70006);let A=e=>Object.values(u.n8).find(i=>i===e),T=()=>{let{user:e,currentWorkspace:i}=(0,d.ur)(),{isReady:s,route:h}=(0,n.useRouter)(),p=(0,a.Fd)(),j=!!(e&&0===e.workspaceMemberships.length),m=A((0,w.M$)()),{channelPreview:b,channels:g,activeChannel:f,currentChannelId:v,isChannelsLoading:y}=E({workspaceId:null==i?void 0:i.id,user:e});C({currentChannel:b||f,currentWorkspaceId:null==i?void 0:i.id});let{state:T,dispatch:S}=(0,c.YR)(),I=T.activeTab,R=(0,r.jL)(),k=(0,r.GV)(_.kx),O=(0,l.useCallback)(e=>{R((0,_.aL)({isSidebarVisible:e}))},[R]);return(0,l.useEffect)(()=>{let e=v?u.n8.CHANNEL:m||("/settings"===h?"settings":void 0)||x.Jj;e!==I&&S({type:"SET_ACTIVE_TAB",payload:e})},[I,v,S,h,m]),(0,l.useEffect)(()=>{p||"sites"!==I||t().replace("/")},[p,I]),(0,l.useEffect)(()=>{O(!1)},[]),(0,l.useEffect)(()=>{s&&(j?t().replace("/#".concat(u.n8.SHARED_WITH_YOU)):setTimeout(()=>{R((0,_.aL)({isSidebarVisible:!1}))},150))},[R,m,v,j,s]),(0,o.JQ)(e=>{e.track(o.VV.HOME_TAB_VIEWED,{tab:I})},[I]),{channelPreview:b,channels:g,activeChannel:f,currentChannelId:v,isChannelsLoading:y,activeTab:I,isSidebarVisible:k,setIsSidebarVisible:O,sitesEnabled:p,userHasNoWorkspaces:j,user:e,currentWorkspace:i}}},11959:(e,i,s)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=s(14761)._(s(55729)).default.createContext(null)},20939:(e,i,s)=>{"use strict";s.d(i,{Je:()=>c,TQ:()=>d,YR:()=>o});var n=s(6029),t=s(55729);let l={activeTab:s(68422).n8.ALL,activeTabBgColor:void 0},a=(0,t.createContext)({state:l,dispatch:()=>{throw Error("dispatch function must be overridden")}}),r=(e,i)=>{switch(i.type){case"SET_ACTIVE_TAB":return{...e,activeTab:i.payload,activeTabBgColor:void 0};case"SET_ACTIVE_TAB_BG_COLOR":return{...e,activeTabBgColor:i.color};default:return e}},o=()=>{let e=(0,t.useContext)(a);if(void 0===e)throw Error("useActiveTabContext must be used within a ActiveTabProvider");return e},d=e=>{let{children:i}=e,[s,o]=(0,t.useReducer)(r,l);return(0,n.jsx)(a.Provider,{value:{state:s,dispatch:o},children:i})},c=()=>{let{state:e,dispatch:i}=o(),s=(0,t.useCallback)(e=>i({type:"SET_ACTIVE_TAB_BG_COLOR",color:e}),[i]);return[e.activeTabBgColor,s]}},25758:(e,i,s)=>{"use strict";s.d(i,{M:()=>i_});var n=s(6029),t=s(40452),l=s(83004),a=s(98929),r=s(55729),o=s(29608),d=s(28615),c=s(11403),u=s(85732),x=s(68301),h=s(6807),p=s(68986);let j=e=>{let{definition:i,onClose:s}=e,{key:t,dismissKey:l="modal-dismiss-".concat(t),ttl:a,conditions:o,featureFlag:d,Modal:c}=i,[u,j]=(0,h.M)(l,!1);(0,r.useEffect)(()=>{if(a&&u)new Date().getTime()-new Date(u).getTime()>1e3*a&&p.x.removeItem(l)},[l,u,a]);let m=(0,r.useCallback)(()=>{j(String(new Date)),null==s||s()},[s,j]);return!(0,x.WK)(d)||o&&!o()||u?null:(0,n.jsx)(c,{onClose:m})};var m=s(74771),b=s(67909),g=s(36071),f=s(54731),v=s(3674),y=s(40691),E=s(26385),C=s(26420),_=s(74676),w=s(23293),A=s(48810),T=s(58959),S=s(58297),I=s(57405),R=s(49611),k=s(33787),O=s(99492),N=s(48621),P=s(19564),L=s(99767),D=s(73110),M=s(99038),G=s(60908),z=s(65148);let U=[{title:(0,n.jsx)(P.x6,{id:"OkeCMN",values:{GAMMA_AGENT_PROPER_NOUN:M.Gg},components:{0:(0,n.jsx)("strong",{})}}),icon:O.Bep},{title:(0,n.jsx)(P.x6,{id:"NK0Uj2",values:{GAMMA_PROPER_NOUN:M.On},components:{0:(0,n.jsx)("strong",{})}}),icon:O.jTw},{title:(0,n.jsx)(P.x6,{id:"RxTjbn",components:{0:(0,n.jsx)("strong",{})}}),icon:O.fyG},{title:(0,n.jsx)(P.x6,{id:"VZFqBB",values:{GAMMA_PROPER_NOUN:M.On},components:{0:(0,n.jsx)("strong",{})}}),icon:O.USd},{title:(0,n.jsx)(P.x6,{id:"Yax/sJ",values:{GAMMA_ULTRA_PROPER_NOUN:M.LS},components:{0:(0,n.jsx)("strong",{})}}),icon:O.yy}],B=[{key:"september-2025-announcement",Modal:e=>{let{onClose:i}=e,s=(0,D.O)(),l=L._C.includes(s)?s:"en";return(0,n.jsxs)(b.aF,{isOpen:!0,onClose:i,size:{base:"5xl",md:"4xl"},children:[(0,n.jsx)(g.m,{backdropFilter:"blur(10px)",bg:{base:"url(".concat((0,G.Ub)("https://static.gamma.app/images/astronaut-d3dd5e3d651e.jpg",{width:1e3}),")"),md:"whiteAlpha.800"}}),(0,n.jsxs)(f.$,{overflow:"hidden",children:[(0,n.jsx)(v.s,{bg:"whiteAlpha.700"}),(0,n.jsx)(y.c,{p:0,m:0,children:(0,n.jsxs)(t.s,{flexDirection:{base:"column-reverse",md:"row"},h:"100%",children:[(0,n.jsxs)(E.B,{w:"100%",h:"100%",spacing:8,px:{base:8,md:8},pt:{base:8,md:10},pb:{base:12,md:10},justifyContent:"center",children:[(0,n.jsxs)(E.B,{spacing:4,children:[(0,n.jsx)(C.a,{children:(0,n.jsx)(_.E,{colorScheme:"blue",display:"inline",children:(0,n.jsx)(P.x6,{id:"isRobC"})})}),(0,n.jsx)(w.D,{size:"lg",as:"h1",children:(0,n.jsx)(P.x6,{id:"bIt5nT",values:{GAMMA_PROPER_NOUN:M.On}})}),(0,n.jsx)(A.E,{children:(0,n.jsx)(P.x6,{id:"LE0UQR"})})]}),(0,n.jsx)(E.B,{spacing:4,children:U.map((e,i)=>(0,n.jsxs)(T.z,{alignItems:"flex-start",spacing:3,children:[(0,n.jsx)(S.j,{color:"blue.500",flexShrink:0,size:6,children:(0,n.jsx)(N.g,{icon:e.icon,fixedWidth:!0})}),(0,n.jsx)(I.T,{spacing:0,alignItems:"flex-start",children:(0,n.jsx)(A.E,{children:e.title})},i)]},i))}),(0,n.jsx)(R.$,{colorScheme:"blue",variant:"solid",href:"https://gamma.app/".concat(l,"/announcements/gamma-3.0"),target:"_blank",rel:"noopener noreferrer",as:"a",rightIcon:(0,n.jsx)(m.p,{}),children:(0,n.jsx)(P.x6,{id:"zwWKhA"})})]}),(0,n.jsx)(t.s,{children:(0,n.jsx)(k._,{src:(0,G.Ub)("https://static.gamma.app/images/astronaut-d3dd5e3d651e.jpg",{width:1e3}),display:{base:"none",md:"block"},h:"100%",objectFit:"cover"})})]})})]})]})},dismissKey:z.E.lastDismissedSeptember2025Modal,featureFlag:"sept2025Announcement"}],V=e=>{let{isViewOnly:i}=e,s=(0,c.En)(),[t,l]=(0,r.useState)(0);return i||!s||(0,o.rA)()||d.D1||(0,u.NF)()||t>=B.length?null:(0,n.jsx)(j,{definition:B[t],onClose:()=>{l(e=>e+1)}})};var F=s(20939),H=s(27828),W=s(95669),Q=s.n(W),Y=s(81061),K=s(58853),$=s(82328),X=s(81043),Z=s(85328),J=s(24573),q=s(82062),ee=s(50979),ei=s(72104),es=s(96500),en=s(29810),et=s(41781);let el=({size:e="2rem",...i})=>(0,n.jsx)(et.E,{borderRadius:"full",boxSize:e,...i});el.displayName="SkeletonCircle";var ea=s(16936),er=s(47412),eo=s(77650),ed=s(79704),ec=s(55597),eu=s(74003),ex=s(95889),eh=s(73);let ep=()=>{let{hasUnlimitedCredits:e,onAICreditsModalOpen:i,onAICreditsModalClose:s}=(0,eh.x)(),{openUpsellModal:t,product:l}=(0,eu.I)();return e&&null!==l?null:(0,n.jsx)(R.$,{variant:"ghost",size:"sm",width:"fit-content",onClick:()=>{t({onOpenCallback:i,onCloseCallback:s,segmentEvent:ex.VV.GAMMA_PRO_UPSELL_CALLOUT_UNLIMITED_AI})},leftIcon:(0,n.jsx)(N.g,{icon:ec._$C,size:"sm"}),children:(0,n.jsx)(P.x6,{id:"ewbQZm"})})};var ej=s(1079),em=s(5061),eb=s(49337),eg=s(89942),ef=s(75748),ev=s(19430),ey=s(88586),eE=s(82927);let eC=()=>{var e,i,s;let{currentWorkspace:n}=(0,eE.ur)(),{data:t}=(0,ey.JUt)({variables:{workspaceId:null==n?void 0:n.id,first:1,archived:!1,isApiGenerated:!0},skip:!(null==n?void 0:n.id),fetchPolicy:"cache-first"});return(null!=(s=null==t||null==(i=t.docs)||null==(e=i.edges)?void 0:e.length)?s:0)>0};var e_=s(21490);let ew=e=>{let{isDisabled:i}=e,s=(0,em.fW)();return(0,r.useEffect)(()=>{(0,e_.a)({align:s?"left":"right"})},[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.mL,{styles:{".Canny_BadgeContainer .Canny_Badge":{position:"absolute",top:"4px",right:"4px",borderRadius:"100%",backgroundColor:"var(--chakra-colors-red-500)",padding:"4px",border:"1px solid white"}}}),(0,n.jsx)(er.Tz,{label:(0,n.jsx)(P.x6,{id:"2C1hVA",values:{GAMMA_PROPER_NOUN:M.On}}),placement:"top",children:(0,n.jsx)(ea.K,{isDisabled:i,shadow:"none",icon:(0,n.jsx)(N.g,{icon:O.z$e}),height:"40px",width:"40px","aria-label":eo.Ru._({id:"2C1hVA",values:{GAMMA_PROPER_NOUN:M.On}}),variant:"ghost",sx:{borderWidth:"1px",borderColor:{base:"gray.200",md:"transparent"}},"data-canny-changelog":!0})})]})};var eA=s(41974),eT=s(41273),eS=s(18833),eI=s(7726),eR=s(93005),ek=s(11390),eO=s(79101);let eN=(0,eS.P)(k._),eP=()=>{var e,i,s,t,l,a;let o=(0,ex.st)(),d=(0,eI.U)(),c=null==d?void 0:d.showSubscriptionUpgradeModal,[u,x]=(0,h.M)("upgradeToAnnualBannerDismissed",!1),p=(0,eO.CX)(),{subscription:j,product:m}=(0,eu.I)(),b=(0,ev.fL)(),g=null==b?void 0:b.id,{productPrices:f}=(0,eR.L)({workspaceId:g}),v=(0,r.useMemo)(()=>(0,ek.dX)(m,f),[m,f]),y=(null!=(a=null==j||null==(s=j.products)||null==(i=s[0])||null==(e=i.productPrice)?void 0:e.frequencyUnit)?a:null)===ey.Vd7.Month,_=null!=m&&f&&!!(null==(l=f[m])||null==(t=l.yearly)?void 0:t.price),T="pro"===m?M.Ol:M.Ft,S=(0,r.useCallback)(()=>{let e=j?(0,ev.tq)(j):null,i=e?Math.round((new Date().getTime()-new Date(e).getTime())/864e5):null;m&&(null==o||o.track(ex.VV.UPGRADE_TARGET_POPUP_CLICK,{current_plan:(0,ek.cE)(m,"monthly"),source:"workspace_settings",subscription_tenure_days:i}),null==o||o.track(ex.VV.UPGRADE_MODAL_VIEW,{current_plan:(0,ek.cE)(m,"monthly"),modal_source:"dashboard_sidebar"}))},[o,m,j]),I=e=>{e.stopPropagation(),x(!0),S(),m&&(null==c||c({newPlan:m,newFrequency:ey.Vd7.Year}))},k=null==j?void 0:j.createdTime,O=k?(0,eT.A)(new Date,new Date(k)):0,N=!u&&y&&v>0&&_&&d&&O>=35&&p;return((0,r.useEffect)(()=>{N&&m&&(null==o||o.track(ex.VV.UPGRADE_TARGET_POPUP_VIEW,{current_plan:(0,ek.cE)(m,"monthly"),popup_location:"dashboard_sidebar"}))},[o,m,N]),N)?(0,n.jsx)(C.a,{position:"absolute",bottom:2,me:5,mb:2,onClick:I,cursor:"pointer",bgGradient:"linear(to-l, purple.400, purple.500)",p:"1px",borderRadius:"md",children:(0,n.jsxs)(C.a,{position:"relative",children:[(0,n.jsx)(eN,{src:"https://static.gamma.app/images/mr-peepers-681d3fc7.webp",animate:{top:["0px","-32px"]},transition:{delay:.5,duration:.7,ease:"easeOut"},alt:"Banner",zIndex:99,w:14,insetEnd:3,position:"absolute"}),(0,n.jsx)(eA.Z,{px:4,pt:6,pb:2,bg:"purple.100",shadow:"sm",zIndex:100,_hover:{bgGradient:"linear(-45deg, purple.100, purple.50)"},children:(0,n.jsxs)(E.B,{spacing:4,children:[(0,n.jsxs)(E.B,{spacing:2,children:[(0,n.jsx)(w.D,{fontWeight:"bold",size:"sm",color:"purple.700",children:(0,n.jsx)(P.x6,{id:"LoeKh9"})}),(0,n.jsx)(A.E,{fontSize:"sm",children:(0,n.jsx)(P.x6,{id:"3BR8sr",values:{annualSavingsPercentage:v,currentPlanName:T}})})]}),(0,n.jsxs)(E.B,{children:[(0,n.jsx)(R.$,{size:"sm",onClick:I,borderColor:"purple.300",bg:"purple.600",color:"white",_hover:{bg:"purple.700"},children:(0,n.jsx)(P.x6,{id:"v1ql9/"})}),(0,n.jsx)(R.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),x(!0),m&&(null==o||o.track(ex.VV.UPGRADE_TARGET_POPUP_DISMISS,{current_plan:(0,ek.cE)(m,"monthly"),modal_source:"dashboard_sidebar"}))},color:"purple.800",_hover:{bg:"purple.200"},children:(0,n.jsx)(P.x6,{id:"1QfxQT"})})]})]})})]})}):null};var eL=s(82203),eD=s.n(eL);let eM=r.forwardRef((e,i)=>{let{children:s,dataTestId:t,isDisabled:l=!1,isSelected:a,isDropActive:r,href:o,target:d,...c}=e;return(0,n.jsx)(R.$,{ref:i,textDecoration:"none",w:"100%",size:"sm",justifyContent:"flex-start","data-testid":t,py:1.5,mb:1,px:2,fontWeight:a?"bold":"regular",target:d,isDisabled:l,pointerEvents:l?"none":"auto",variant:a||r?"secondarySelected":"secondary",...o?{href:o,as:eD()}:{},...c,children:s})});eM.displayName="SidebarButton";var eG=s(27229),ez=s(80314),eU=s(831),eB=s.n(eU),eV=s(8384),eF=s(17920),eH=s(16426),eW=s(61204),eQ=s(46898),eY=s(38822),eK=s.n(eY),e$=s(42757),eX=s(12805),eZ=s(68568),eJ=s(33996);let eq=e=>{var i,s;let{onClose:t,onSubmit:l,doc:a}=e,o=(0,eE.Iy)("manage",a||void 0),{isConnected:d}=(0,ey.utY)(),[c,u]=(0,r.useState)(ey.aXG.Manage);return a?(0,n.jsxs)(b.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,n.jsx)(g.m,{}),(0,n.jsxs)(f.$,{"data-testid":"workspace-permissions-prompt",children:[(0,n.jsx)(eF.r,{children:(0,n.jsx)(P.x6,{id:"JzTAyU",values:{0:a.title}})}),(0,n.jsx)(v.s,{}),(0,n.jsxs)(y.c,{children:[(0,n.jsx)(A.E,{mb:6,children:(0,n.jsx)(P.x6,{id:"wKPcxh"})}),(0,n.jsx)(eX._,{testId:"workspace",title:(0,n.jsx)(P.x6,{id:"wtxjAY"}),subtitle:(null==a||null==(i=a.organization)?void 0:i.name)?eo.Ru._({id:"aC87LX",values:{0:null==a||null==(s=a.organization)?void 0:s.name}}):eo.Ru._({id:"ucB1/R"}),isDisabled:!o||!d,img:(0,n.jsx)(S.j,{color:"gray.700",textAlign:"center",bg:"gray.200",size:"32px",children:(0,n.jsx)(N.g,{size:"1x",icon:O.URI})}),disabledText:e$.ef[c].title(),permissionsControl:(0,n.jsx)(e$.qk,{selected:c,options:[ey.aXG.Manage,ey.aXG.Edit,ey.aXG.Comment,ey.aXG.View],onClick:e=>{u(e)}})})]}),(0,n.jsx)(eH.j,{children:(0,n.jsxs)(eW.e,{children:[(0,n.jsx)(R.$,{variant:"ghost",onClick:t,children:(0,n.jsx)(P.x6,{id:"dEgA5A"})}),(0,n.jsx)(R.$,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{l(c),t()},children:(0,n.jsx)(P.x6,{id:"DPfwMq"})})]})})]})]}):(0,n.jsx)(n.Fragment,{})},e0=()=>{let{onOpen:e,isOpen:i,onClose:s}=(0,eG.j)({id:"workspacePermissionPromptDisclosure"}),[n]=(0,ey.Ix6)(),{currentWorkspace:t}=(0,eE.ur)(),l=(0,eQ.d)(),{addDocChannel:a}=(0,eJ.k)(),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),x=(0,eE.IM)(),h=(0,r.useCallback)((e,i)=>{let s=(e.channels||[]).find(e=>e.id===i.id),n=(0,eZ.D5)(e,t),a=x.cannot("manage",e)&&eK()(e.orgAccess);return n?(l({description:eo.Ru._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:M.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):a?(l({description:eo.Ru._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:M.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!s||(l({description:eo.Ru._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:M.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[x,l,t]),p=(0,r.useCallback)(e=>{if(!o||!c)return;let{id:i}=o;n({variables:{id:i,orgAccess:e},optimisticResponse:{updateDoc:{id:i,orgAccess:e,__typename:"Doc"}}}).then(()=>{a({doc:o,channel:c,existingChannels:null==o?void 0:o.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",i),l({title:eo.Ru._({id:"SlfejT"}),description:eo.Ru._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[a,o,c,l,n]),j=(0,r.useCallback)((i,s)=>{h(i,s)&&(i.orgAccess?a({doc:i,channel:s,existingChannels:(null==i?void 0:i.channels)||[]}):(d(i),u(s),e()))},[a,e,h]);return{isOpen:i,onClose:(0,r.useCallback)(()=>{u(null),d(null),s()},[s]),doc:o,handleAddDocToChannel:j,updateWorkspacePermissionThenAddToChannel:p}};var e1=s(68455),e6=s(2318),e8=s(70006),e2=s(98694),e5=s(96833);let e9=r.forwardRef((e,i)=>{let{tabKey:s,isSelected:t,isDropActive:l=!1,isDisabled:a,href:r,target:o,children:d,...c}=e;return(0,n.jsx)(eM,{ref:i,isSelected:t,isDropActive:l,dataTestId:"sidebar-".concat(s,"-tab").concat(t?"--selected":""),target:o,isDisabled:a,href:r,...c,children:d})});e9.displayName="SidebarItem";var e3=s(39908);let e4=e=>{let{icon:i,title:s,faClassName:t,badge:l,allowGradient:a,iconGap:r=2,fontColor:o}=e;return(0,n.jsxs)(T.z,{spacing:1.5,justify:"flex-start",w:"100%",paddingInlineEnd:l?3:void 0,color:o,children:[i?a?(0,n.jsx)(C.a,{bg:"gradient.brand.bg",as:"span",display:"inline-block",sx:{marginInlineStart:"2px",width:"var(--fa-fw-width, 1.1em)",height:"var(--fa-fw-width, 1.1em)",maskImage:"url(".concat((0,e3.Z)(i),")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,n.jsx)(N.g,{icon:i,fixedWidth:!0,className:t||void 0,size:"1x",style:{color:"inherit"}}):null,(0,n.jsx)(A.E,{flex:1,textOverflow:"ellipsis",overflow:"hidden",ms:r,w:"100%",textAlign:"start",fontWeight:"medium",style:{color:"inherit"},children:s}),l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(en.h,{}),l]})]})};var e7=s(68422);let ie=e=>{let{isSelected:i,hasActivity:s}=e;return s&&O.qAe,i?e1.o:e1.$},ii=e=>{let{activity:i,user:s}=e;if(!(null==i?void 0:i.activeUsers))return(0,n.jsx)(n.Fragment,{});let t=eB()(i.activeUsers,"id"),l=(0,e6.Hz)(t,null==s?void 0:s.id);return(0,n.jsx)(er.KZ,{overflowTooltipLabel:eo.Ru._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:l.map(e=>{let{displayName:i,profileImageUrl:s,id:n}=e;return{name:i||"",id:n,profileImageUrl:s,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:e=>{e.preventDefault(),e.stopPropagation()}})},is=e=>{var i,s;let{isPreview:t,channel:l,activeTab:a,currentChannelId:r,addDocToChannel:o,user:d,isDisabled:c}=e,u=(0,x.u)("channelActivity"),[{canDrop:h,isOver:p},j]=(0,eV.H)(()=>({accept:e2.v,drop:e=>{o(e,l)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})})),m=a===e7.uL.CHANNEL&&l.id===r,b=u&&!!((null==l||null==(i=l.activity)?void 0:i.activeUsers)&&(null==l||null==(s=l.activity)?void 0:s.activeUsers.length)>0),g=ie({isSelected:m,hasActivity:b});return(0,n.jsxs)(e9,{ref:j,"data-testid":"sidebar-item",tabKey:"".concat(e7.uL.CHANNEL,"-").concat(l.id),isDropActive:p&&h,isSelected:m,href:(0,e8.gU)({id:l.id,slug:l.slug}),opacity:t?"0.5":void 0,justifyContent:"space-between",w:"100%",isDisabled:c,children:[(0,n.jsx)(e4,{icon:g,title:l.name,faClassName:m&&b?"fa-beat-fade":void 0}),b&&(0,n.jsx)(ii,{activity:null==l?void 0:l.activity,user:d})]},l.id)},it=e=>{let{channelPreview:i,channels:s,activeTab:t,currentChannelId:l,isChannelsLoading:a,isOffline:r}=e,{user:o,currentWorkspace:d}=(0,eE.ur)(),{isOpen:c,onClose:u,doc:x,handleAddDocToChannel:h,updateWorkspacePermissionThenAddToChannel:p}=e0(),{isOpen:j,onOpen:m,onClose:b}=(0,eG.j)({id:"manageChannelsModalDisclosure"});return a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(et.E,{h:"30px",w:"100%"}),(0,n.jsx)(et.E,{h:"30px",w:"100%"}),(0,n.jsx)(et.E,{h:"30px",w:"100%"})]}):(0,n.jsxs)(C.a,{"data-testid":"sidebar-channels",w:"100%",children:[(0,n.jsxs)(T.z,{justify:"space-between",children:[(0,n.jsx)(er._x,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,n.jsx)(P.x6,{id:"HSh8u/"})}),(0,n.jsx)(er.Tz,{label:(0,n.jsx)(P.x6,{id:"Mxy55o"}),children:(0,n.jsx)(ea.K,{"aria-label":eo.Ru._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,n.jsx)(N.g,{icon:O.QLR}),onClick:m,isDisabled:r})})]}),i&&!r&&(0,n.jsx)(is,{isPreview:!0,channel:i,activeTab:t,currentChannelId:l,addDocToChannel:h,user:o,isDisabled:!1},i.id),s.map(e=>(0,n.jsx)(is,{channel:e,activeTab:t,currentChannelId:l,addDocToChannel:h,user:o,isDisabled:r},e.id)),!r&&0===s.length&&(0,n.jsxs)(C.a,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,borderRadius:"md",children:[(0,n.jsx)(A.E,{fontSize:"sm",children:(0,n.jsx)(P.x6,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:M.Ix}})}),(0,n.jsx)(A.E,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,n.jsx)(ez.N,{color:"trueblue.600",href:"#",onClick:m,children:(0,n.jsx)(P.x6,{id:"Mxy55o"})})})]}),j&&(0,n.jsx)(e5.z,{isOpen:j,onClose:b,workspaceId:null==d?void 0:d.id}),c&&(0,n.jsx)(eq,{doc:x,onSubmit:p,onClose:u})]})},il=e=>{let{setIsSidebarVisible:i}=e,s=(0,c.En)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(E.B,{spacing:2,children:[(0,n.jsx)(E.B,{pt:2,children:(0,n.jsx)(C.a,{display:{sm:"lg",md:"none"},children:(0,n.jsx)(ea.K,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,n.jsx)(N.g,{icon:O.GRI}),onClick:()=>i(!1)})})}),(0,n.jsxs)(E.B,{spacing:2,children:[(0,n.jsx)(et.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,n.jsx)(et.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,n.jsx)(et.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,n.jsx)(et.E,{w:"100%",height:"32px",borderRadius:"md"})]})]}),(0,n.jsx)(en.h,{}),(0,n.jsx)(t.s,{justify:"center",align:"flex-end",children:s&&(0,n.jsx)(er.uh,{w:"30px"})})]})},ia=e=>{let{channelPreview:i,isSidebarVisible:s,setIsSidebarVisible:l,isReady:a,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:u}=e,h=(0,em.fW)(),p=(0,x.u)("changelog"),j=(0,x.u)("intercom"),m=(0,x.u)("shareFeedback"),b=(0,eb.k)({initializeViaQuery:!0});return(0,n.jsxs)(t.s,{direction:"column",zIndex:"overlay",h:"var(--100vh)",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:s?"xl":"none",md:"none"},transform:s?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(".concat(h?"100%":"-100%",",0px)"),md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,n.jsx)(C.a,{display:{base:"none",md:"block"},children:(0,n.jsx)(io,{isOffline:u,isChangelogEnabled:p,setIsSidebarVisible:l,isReady:a})}),(0,n.jsx)(t.s,{overflowY:"auto",h:"100vh",p:5,pt:0,pb:4,direction:"column",alignContent:"space-between",children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.a,{display:{base:"block",md:"none"},children:(0,n.jsx)(io,{isOffline:u,isChangelogEnabled:p,setIsSidebarVisible:l,isReady:a})}),(0,n.jsx)(id,{channelPreview:i,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:u}),(0,n.jsx)(C.a,{w:"100%",pt:1,pb:3,children:(0,n.jsx)(es.c,{})}),(0,n.jsx)(e9,{tabKey:e7.n8.SETTINGS,isSelected:r===e7.n8.SETTINGS,href:"/".concat(e7.n8.SETTINGS),children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.SETTINGS].icon,title:e7.mQ[e7.n8.SETTINGS].displayName})}),j&&(0,n.jsx)(eM,{dataTestId:"contact-button",onClick:b,isDisabled:u,children:(0,n.jsx)(e4,{icon:O.gSF,title:(0,n.jsx)(P.x6,{id:"mpby9d"})})}),!j&&(0,n.jsx)(eM,{dataTestId:"contact-button",href:"mailto:".concat(ej.J),isDisabled:u,children:(0,n.jsx)(e4,{icon:O.y_8,title:(0,n.jsx)(P.x6,{id:"A0C9La"})})}),m&&(0,n.jsx)(eM,{dataTestId:"feedback-button",href:"https://ideas.gamma.app/ideas",target:"_blank","data-canny-link":!0,isDisabled:u,children:(0,n.jsx)(e4,{icon:O.O3E,title:(0,n.jsx)(P.x6,{id:"u5hSeG"})})}),(0,n.jsx)(en.h,{}),(0,n.jsx)(t.s,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,n.jsx)(er.uh,{w:"30px"})}),(0,n.jsx)(eP,{})]}):(0,n.jsx)(il,{setIsSidebarVisible:l})})]})},ir=()=>(0,n.jsxs)(E.B,{pt:4,spacing:4,children:[(0,n.jsxs)(E.B,{w:"100%",px:2,pb:1,direction:"row",alignItems:"center",children:[(0,n.jsx)(el,{size:"36px"}),(0,n.jsxs)(E.B,{spacing:2,flex:1,children:[(0,n.jsx)(et.E,{width:"100%",height:"20px"}),(0,n.jsx)(et.E,{width:"60%",height:"16px"})]})]}),(0,n.jsx)(et.E,{width:"100%",height:"42px",borderRadius:"md"})]}),io=e=>{let{isOffline:i,isChangelogEnabled:s,setIsSidebarVisible:l,isReady:a}=e,r=(0,c.En)();return(0,n.jsx)(E.B,{overflowY:"auto",px:{base:0,md:5},pt:2,pb:{base:4,md:4},direction:"column",alignContent:"space-between",overflow:"hidden",children:a&&r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.s,{alignItems:"flex-start",justify:"flex-end",children:(0,n.jsx)(C.a,{display:{base:"block",md:"none"},children:(0,n.jsx)(ea.K,{size:"sm","aria-label":eo.Ru._({id:"62Ciis"}),variant:"ghost",icon:(0,n.jsx)(ei.U,{w:3}),onClick:()=>l(!1),isRound:!0})})}),(0,n.jsx)(ev.bx,{}),!i&&(0,n.jsxs)(C.a,{flexDirection:"column",alignItems:"flex-start",borderRadius:"xl",ms:-2,mt:2,display:{base:"flex",lg:"none"},gap:0,children:[(0,n.jsx)(ep,{}),(0,n.jsx)(ed.f,{segmentEvent:ex.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),(0,n.jsx)(ef.r,{size:"sm",description:(0,n.jsx)(P.x6,{id:"+QNhGE"}),isConnected:!i,maxWidth:"300px",mt:3}),(0,n.jsxs)(E.B,{direction:"row",justifyContent:"center",alignItems:"center",mt:4,children:[(0,n.jsx)(J.Vb,{isDisabled:i}),s&&(0,n.jsx)(C.a,{display:{base:"block",md:"none"},children:(0,n.jsx)(ew,{isDisabled:i})})]})]}):(0,n.jsx)(ir,{})})},id=e=>{let{channelPreview:i,activeTab:s,currentChannelId:t,channels:l,isChannelsLoading:a,isOffline:r}=e,d=(0,eg.Fd)(),c=eC();return(0,n.jsxs)(E.B,{my:{base:0,md:2},"data-testid":"sidebar-tablist",w:"100%",spacing:1,children:[(0,n.jsxs)(E.B,{spacing:0,w:"100%",children:[(0,n.jsx)(e9,{tabKey:e7.n8.ALL,isSelected:s===e7.n8.ALL,href:"/#".concat(e7.n8.ALL),children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.ALL].icon,title:e7.mQ[e7.n8.ALL].displayName})}),(0,n.jsx)(e9,{tabKey:e7.n8.SHARED_WITH_YOU,isSelected:s===e7.n8.SHARED_WITH_YOU,href:"/#".concat(e7.n8.SHARED_WITH_YOU),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.SHARED_WITH_YOU].icon,title:e7.mQ[e7.n8.SHARED_WITH_YOU].displayName})}),d&&(0,n.jsx)(e9,{paddingInlineEnd:-1,tabKey:e7.n8.SITES,isSelected:s===e7.n8.SITES,href:"/#".concat(e7.n8.SITES),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.SITES].icon,title:e7.mQ[e7.n8.SITES].displayName})}),(0,n.jsx)(e9,{paddingInlineEnd:-1,tabKey:e7.n8.IMAGES,isSelected:s===e7.n8.IMAGES,href:"/#".concat(e7.n8.IMAGES),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.IMAGES].icon,title:e7.mQ[e7.n8.IMAGES].displayName})}),c&&(0,n.jsx)(e9,{paddingInlineEnd:-1,tabKey:e7.n8.API_GENERATED,isSelected:s===e7.n8.API_GENERATED,href:"/#".concat(e7.n8.API_GENERATED),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.API_GENERATED].icon,title:e7.mQ[e7.n8.API_GENERATED].displayName})})]}),(0,n.jsx)(it,{channelPreview:i,isChannelsLoading:a,channels:l,currentChannelId:t,activeTab:s,isOffline:r}),(0,n.jsx)(C.a,{w:"100%",pt:1,pb:2,children:(0,n.jsx)(es.c,{})}),(0,n.jsxs)(E.B,{spacing:0,w:"100%",children:[!(0,o.Xb)()&&(0,n.jsx)(e9,{tabKey:e7.n8.TEMPLATES,isSelected:s===e7.n8.TEMPLATES,href:"/#".concat(e7.n8.TEMPLATES),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.TEMPLATES].icon,title:e7.mQ[e7.n8.TEMPLATES].displayName})}),(0,n.jsx)(e9,{tabKey:e7.n8.INSPIRATION,isSelected:s===e7.n8.INSPIRATION,href:"/#".concat(e7.n8.INSPIRATION),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.INSPIRATION].icon,title:e7.mQ[e7.n8.INSPIRATION].displayName})}),!(0,o.Xb)()&&(0,n.jsx)(e9,{tabKey:e7.n8.THEMES,isSelected:s===e7.n8.THEMES,href:"/#".concat(e7.n8.THEMES),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.THEMES].icon,title:e7.mQ[e7.n8.THEMES].displayName})}),!(0,o.Xb)()&&(0,n.jsx)(e9,{tabKey:e7.n8.FONTS,isSelected:s===e7.n8.FONTS,href:"/#".concat(e7.n8.FONTS),isDisabled:r,children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.FONTS].icon,title:e7.mQ[e7.n8.FONTS].displayName})}),(0,n.jsx)(e9,{tabKey:e7.n8.TRASH,isSelected:s===e7.n8.TRASH,href:"/#".concat(e7.n8.TRASH),children:(0,n.jsx)(e4,{icon:e7.mQ[e7.n8.TRASH].icon,title:e7.mQ[e7.n8.TRASH].displayName})})]})]})};var ic=s(91938);let iu={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},ix=()=>(0,n.jsx)(t.s,{bg:"#1A013F",direction:"column",mb:4,children:(0,n.jsxs)(t.s,{py:4,px:8,direction:["column","row"],children:[(0,n.jsxs)(E.B,{mr:[0,4],children:[(0,n.jsx)(A.E,{fontSize:"xl",sx:iu,children:"Meet Gamma, the fast alternative to slides"}),(0,n.jsx)(A.E,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,n.jsx)(en.h,{}),(0,n.jsxs)(T.z,{mt:[2,0],children:[(0,n.jsx)(R.$,{as:"a",href:"/signup",children:"Make your own"}),(0,n.jsx)(R.$,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:()=>{window.location.href="".concat(ic.$.API_HOST,"/logout")},children:"Sign out"})]})]})});var ih=s(91430),ip=s(26814),ij=s(8909);let im=e=>{let{ariaLabel:i,displayName:s,icon:t,channel:l,containerPadding:a}=e,r=(null==l?void 0:l.name)||s;return(0,n.jsxs)(T.z,{h:"1.5em",ps:a,ms:2,children:[(0,n.jsxs)(w.D,{size:"sm","data-testid":"sticky-topbar-header",children:[t&&(0,n.jsx)(N.g,{icon:t,"aria-label":i()}),(0,n.jsx)(A.E,{as:"span",ms:2,children:r})]}),(0,n.jsx)(en.h,{})]})},ib="50px",ig=e=>{let{containerPadding:i,isOffline:s,hasScrolledBeyondThreshold:l}=e,a=(0,x.u)("changelog"),r=(0,eg.ez)("unlimited_credits"),{isCreditsReady:o}=(0,ip.B9)(),{activeTab:d,channelPreview:c,activeChannel:u}=(0,ij.q)(),{displayName:h,ariaLabel:p,icon:j}=e7.mQ[d];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iv,{hasScrolled:l,containerPadding:i,width:l?"auto":"fit-content",children:l&&(0,n.jsx)(im,{ariaLabel:p,displayName:h,icon:j,channel:c||u,containerPadding:i})}),(0,n.jsxs)(iy,{containerPadding:i,width:l?"100%":"fit-content",alignSelf:"flex-end",children:[(0,n.jsx)(er.Tz,{label:s?eo.Ru._({id:"ysdDIA"}):"","aria-label":s?eo.Ru._({id:"ysdDIA"}):"",placement:"bottom",children:(0,n.jsxs)(C.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[o&&!r&&(0,n.jsxs)(t.s,{display:{base:"none",lg:"flex"},cursor:s?"not-allowed":"pointer",flexDirection:"row",children:[(0,n.jsx)(ep,{}),(0,n.jsx)(ed.f,{segmentEvent:ex.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),a&&(0,n.jsx)(ew,{isDisabled:s})]})}),(0,n.jsx)(ih.X,{})]})]})},iv=e=>{let{children:i,containerPadding:s,hasScrolled:t,...l}=e,a=(0,em.fW)();return(0,n.jsx)(T.z,{bg:t?"white":"transparent",borderBottomWidth:t?"1px":"0px",borderBottomColor:t?"gray.50":"transparent",borderTopWidth:"0px",borderTopColor:t?"transparent":"gray.200",borderInlineStartWidth:"0px",borderInlineStartColor:"gray.50",zIndex:"sticky",top:0,right:a?-5:0,left:a?0:-5,alignItems:"center",p:2,py:1.5,paddingInlineEnd:6,gap:2,h:ib,transitionProperty:"common",transitionDuration:"normal","data-print-hidden":!0,justifyContent:"flex-start",position:"sticky",display:{base:"none",md:"flex"},m:-s,"data-sticky-topbar-wrapper":!0,...l,children:i})},iy=e=>{let{children:i,containerPadding:s,...t}=e;return(0,n.jsx)(T.z,{justifyContent:"flex-end","data-topbar-wrapper":!0,zIndex:"sticky",position:"sticky",top:0,insetStart:0,insetEnd:0,py:1.5,alignItems:"center",gap:2,my:-s,display:{base:"none",md:"flex"},...t,children:i})},iE=e=>{let{children:i}=e,{isInOfflineMode:s,isConnected:l}=(0,$.u)(),a=(0,x.u)("onboardingV3")?ee.P:q.P,{user:d,activeChannel:u,activeTab:h,userHasNoWorkspaces:p,currentChannelId:j,channelPreview:m,channels:b,isChannelsLoading:g,isSidebarVisible:f,setIsSidebarVisible:v}=(0,ij.q)(),y=(0,c.En)(),E=y&&(0,o.Xb)()?4:6,C=y&&(0,o.Xb)()?2:void 0,[_,w]=(0,r.useState)(!1),A=(0,r.useCallback)(()=>{w(window.scrollY>50)},[]),T=(0,c.wb)(A,100);(0,r.useEffect)(()=>{if(!(0,o.Xb)())return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[T]);let S=h?h===e7.uL.CHANNEL&&(null==u?void 0:u.name)?"".concat(null==u?void 0:u.name," - ").concat(M.On):"".concat(e7.mQ[h].ariaLabel()," - ").concat(M.On):"".concat(M.On),[I]=(0,F.Je)();return(0,n.jsxs)(Y.Q,{backend:K.t2,children:[(0,n.jsxs)(t.s,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,n.jsx)(Q(),{children:(0,n.jsx)("title",{children:S})}),(0,n.jsx)(J.X2,{}),p?null:(0,n.jsx)(ia,{channelPreview:m,isSidebarVisible:f,setIsSidebarVisible:v,user:d,isReady:!!d,activeTab:h,currentChannelId:j,channels:b,isChannelsLoading:g,isOffline:s}),(0,n.jsx)(t.s,{transition:"margin .2s ease",width:"100%",bg:"gray.200",sx:{"&::before":{content:'""',position:"absolute",left:0,top:_&&y?ib:0,bottom:0,width:"1px",background:"var(--chakra-colors-gray-50)",transition:"top 0.2s ease"}},position:"relative",children:(0,n.jsxs)(t.s,{"data-testid":"doc-root-main",flex:"1",px:E,py:E,w:"100%",bg:null!=I?I:"gray.50",direction:"column",marginInlineStart:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease, background-color .5s ease",children:[y&&!(0,o.Xb)()&&(0,n.jsx)(ig,{containerPadding:E,isOffline:!l,hasScrolledBeyondThreshold:_}),p&&(0,n.jsx)(ix,{}),(0,n.jsx)(H.m,{maxW:"80em",p:C,h:"100%",children:i})]})})]}),(0,n.jsx)(Z.x,{children:(0,n.jsx)(X.P,{showShortcuts:!1})}),!s&&(0,n.jsx)(a,{})]})},iC=e=>{let{children:i}=e;return(0,n.jsxs)(t.s,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.50",color:"gray.700",p:0,children:[(0,n.jsx)(l.mL,{styles:{body:{overflowY:"scroll"}}}),(0,n.jsx)(a.ni,{}),(0,n.jsx)(V,{}),(0,n.jsx)(F.TQ,{children:(0,n.jsx)(iE,{children:i})})]})};function i_(e){let i=i=>(0,n.jsx)(iC,{children:(0,n.jsx)(e,{...i})});return"getInitialProps"in e&&(i.getInitialProps=e.getInitialProps),i}},26545:(e,i,s)=>{"use strict";s.d(i,{e:()=>n.e});var n=s(65100)},30362:(e,i,s)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),!function(e,i){for(var s in i)Object.defineProperty(e,s,{enumerable:!0,get:i[s]})}(i,{default:function(){return r},noSSR:function(){return a}});let n=s(14761);s(6029),s(55729);let t=n._(s(82077));function l(e){return{default:(null==e?void 0:e.default)||e}}function a(e,i){return delete i.webpack,delete i.modules,e(i)}function r(e,i){let s=t.default,n={loading:e=>{let{error:i,isLoading:s,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let r=(n={...n,...i}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?s({...n,loader:()=>null!=r?r().then(l):Promise.resolve(l(()=>null))}):(delete n.webpack,delete n.modules,a(s,n))}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),e.exports=i.default)},38944:(e,i,s)=>{"use strict";s.d(i,{CW:()=>o,Hd:()=>u,Jj:()=>d,Zv:()=>r,eT:()=>c});var n=s(6029),t=s(19564),l=s(88586),a=s(68422);let r=[{key:l.vY2.EditedTime,label:(0,n.jsx)(t.x6,{id:"acZeX2"})},{key:l.vY2.CreatedTime,label:(0,n.jsx)(t.x6,{id:"u46WEi"})}],o=[{key:l.vY2.LastViewed,label:(0,n.jsx)(t.x6,{id:"UOgIR2"})},{key:l.vY2.LastEdited,label:(0,n.jsx)(t.x6,{id:"acZeX2"})},{key:l.vY2.Favorited,label:(0,n.jsx)(t.x6,{id:"2TANrw"})}],d=a.n8.ALL,c=l.vY2.EditedTime,u=[l.vY2.LastViewed,l.vY2.LastEdited,l.vY2.Favorited]},65100:(e,i,s)=>{"use strict";s.d(i,{e:()=>p});var n=s(6029),t=s(26420),l=s(40452),a=s(16936),r=s(48810),o=s(29810),d=s(96500),c=s(99492),u=s(48621),x=s(91430),h=s(82927);let p=e=>{let{setIsSidebarVisible:i,isSidebarVisible:s,children:p}=e,{currentWorkspace:j}=(0,h.ur)();return(0,n.jsxs)(t.a,{w:"100%",mb:6,maxW:"100%",children:[(0,n.jsxs)(t.a,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,n.jsxs)(l.s,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,n.jsx)(a.K,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,n.jsx)(u.g,{icon:c.ckx}),size:"sm",marginInlineEnd:2,marginInlineStart:-2,onClick:()=>i(!s),isRound:!0}),(0,n.jsxs)(l.s,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,n.jsx)(r.E,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==j?void 0:j.name}),(0,n.jsx)(o.h,{}),(0,n.jsx)(x.X,{})]})]}),(0,n.jsx)(d.c,{})]}),p]})}},68422:(e,i,s)=>{"use strict";s.d(i,{mQ:()=>p,n8:()=>h,uL:()=>x});var n=s(6029),t=s(99492),l=s(55597),a=s(19564),r=s(77650),o=s(21157),d=s.n(o),c=s(99038),u=s(68455);let x={ALL:"all",SHARED_WITH_YOU:"shared-with-you",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites",SETTINGS:"settings",IMAGES:"images",API_GENERATED:"api-generated"},h={...x},p={[x.ALL]:{displayName:d()(c.Ix),ariaLabel:()=>d()(c.Ix),icon:t.vGi,showCreateButton:!0},[x.SHARED_WITH_YOU]:{displayName:(0,n.jsx)(a.x6,{id:"z/ZgK/"}),ariaLabel:()=>r.Ru._({id:"z/ZgK/"}),icon:t.USd,showCreateButton:!1},[x.SITES]:{displayName:(0,n.jsx)(a.x6,{id:"QHZRmq"}),ariaLabel:()=>r.Ru._({id:"QHZRmq"}),icon:t.Bwz,showCreateButton:!0},[x.IMAGES]:{displayName:(0,n.jsx)(a.x6,{id:"Q+Vsar"}),ariaLabel:()=>r.Ru._({id:"lv+fWg"}),icon:l._$C,showCreateButton:!0},[x.API_GENERATED]:{displayName:(0,n.jsx)(a.x6,{id:"tyNqIn"}),ariaLabel:()=>r.Ru._({id:"7i539X"}),icon:t.jTw,showCreateButton:!1},[x.CHANNEL]:{displayName:(0,n.jsx)(a.x6,{id:"HSh8u/"}),ariaLabel:()=>r.Ru._({id:"HSh8u/"}),icon:u.$,showCreateButton:!0},[x.TRASH]:{displayName:(0,n.jsx)(a.x6,{id:"GQ3O42"}),ariaLabel:()=>r.Ru._({id:"GQ3O42"}),icon:t.yLS,showCreateButton:!1},[x.TEMPLATES]:{displayName:(0,n.jsx)(a.x6,{id:"iTylMl"}),ariaLabel:()=>r.Ru._({id:"iTylMl"}),icon:t.qIE,showCreateButton:!1},[x.INSPIRATION]:{displayName:(0,n.jsx)(a.x6,{id:"K2fjhl"}),ariaLabel:()=>r.Ru._({id:"K2fjhl"}),icon:t.ReK,showCreateButton:!1},[x.THEMES]:{displayName:(0,n.jsx)(a.x6,{id:"fJ3EbT"}),ariaLabel:()=>r.Ru._({id:"fJ3EbT"}),icon:t.fyG,showCreateButton:!1,description:(0,n.jsx)(a.x6,{id:"VLAmF4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:c.Ix}})},[x.FONTS]:{displayName:(0,n.jsx)(a.x6,{id:"E3KfxC"}),ariaLabel:()=>r.Ru._({id:"E3KfxC"}),icon:t.A1G,showCreateButton:!1,description:(0,n.jsx)(a.x6,{id:"b73++j",values:{GAMMA_PROPER_NOUN:c.On},components:{0:(0,n.jsx)("b",{})}})},[x.SETTINGS]:{displayName:(0,n.jsx)(a.x6,{id:"0dbeO4"}),ariaLabel:()=>r.Ru._({id:"0dbeO4"}),icon:t.Ubc,showCreateButton:!1}}},71024:(e,i,s)=>{e.exports=s(30362)},73616:(e,i,s)=>{"use strict";s.d(i,{Z:()=>u});var n=s(6029),t=s(46898),l=s(19564),a=s(81278),r=s.n(a),o=s(55729),d=s(88586),c=s(70006);let u=()=>{let e=(0,t.d)(),[i]=(0,d.nbV)(),[s]=(0,d.WYu)(),[a,{loading:u,error:x}]=(0,d.ugr)(),h=(0,o.useCallback)(s=>{let{channel:t}=s;return i({variables:{channelId:t.id}}).then(()=>{e({title:(0,n.jsx)(l.x6,{id:"GCUxja",values:{0:null==t?void 0:t.name}}),description:(0,n.jsx)(l.x6,{id:"SQY08b",values:{0:null==t?void 0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[i,e]);return{joinChannel:(0,o.useCallback)(i=>{let{channel:t,workspaceId:a}=i,{name:r}=t;return s({variables:{channelId:t.id},update:(e,i)=>{let{data:s}=i;(null==s?void 0:s.joinChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:a},data:{channels:[s.joinChannel]}})},optimisticResponse:{joinChannel:{...t}}}).then(()=>{e({title:(0,n.jsx)(l.x6,{id:"WpOdvg",values:{name:r}}),description:(0,n.jsx)(l.x6,{id:"/IOSvX",values:{name:r}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(i=>{e({title:(0,n.jsx)(l.x6,{id:"bLRa0l",values:{name:r}}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[s,e]),leaveChannel:h,createChannel:(0,o.useCallback)(i=>{let{input:s}=i;return a({variables:{input:s},update:(e,i)=>{let{data:n}=i;(null==n?void 0:n.createChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:s.workspaceId},data:{channels:[n.createChannel]}})}}).then(i=>{var s;let t=null==i||null==(s=i.data)?void 0:s.createChannel;(null==t?void 0:t.name)&&e({title:(0,n.jsx)(l.x6,{id:"EbT81q",values:{0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),(null==t?void 0:t.id)&&(null==t?void 0:t.slug)?r().push((0,c.gU)({id:t.id,slug:t.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==t?void 0:t.id,'". Slug: "').concat(null==t?void 0:t.slug,'"'))}).catch(i=>{e({title:(0,n.jsx)(l.x6,{id:"YeikaQ"}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[a,e]),createChannelLoading:u,createChannelError:x}}},82077:(e,i,s)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return x}});let n=s(14761)._(s(55729)),t=s(11959),l=[],a=[],r=!1;function o(e){let i=e(),s={loading:!0,loaded:null,error:null};return s.promise=i.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:i}=this;e.loading&&("number"==typeof i.delay&&(0===i.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},i.delay)),"number"==typeof i.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},i.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,i){this._loadFn=e,this._opts=i,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,i){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},i),l=null;function o(){if(!l){let i=new d(e,s);l={getCurrentValue:i.getCurrentValue.bind(i),subscribe:i.subscribe.bind(i),retry:i.retry.bind(i),promise:i.promise.bind(i)}}return l.promise()}if(!r){let e=s.webpack&&1?s.webpack():s.modules;e&&a.push(i=>{for(let s of e)if(i.includes(s))return o()})}function c(e,i){o();let a=n.default.useContext(t.LoadableContext);a&&Array.isArray(s.modules)&&s.modules.forEach(e=>{a(e)});let r=n.default.useSyncExternalStore(l.subscribe,l.getCurrentValue,l.getCurrentValue);return n.default.useImperativeHandle(i,()=>({retry:l.retry}),[]),n.default.useMemo(()=>{var i;return r.loading||r.error?n.default.createElement(s.loading,{isLoading:r.loading,pastDelay:r.pastDelay,timedOut:r.timedOut,error:r.error,retry:l.retry}):r.loaded?n.default.createElement((i=r.loaded)&&i.default?i.default:i,e):null},[e,r])}return c.preload=()=>o(),c.displayName="LoadableComponent",n.default.forwardRef(c)}(o,e)}function u(e,i){let s=[];for(;e.length;){let n=e.pop();s.push(n(i))}return Promise.all(s).then(()=>{if(e.length)return u(e,i)})}c.preloadAll=()=>new Promise((e,i)=>{u(l).then(e,i)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(i=>{let s=()=>(r=!0,i());u(a,e).then(s,s)})),window.__NEXT_PRELOADREADY=c.preloadReady;let x=c},96833:(e,i,s)=>{"use strict";s.d(i,{S:()=>en,z:()=>U});var n=s(6029),t=s(78686),l=s(26385),a=s(40452),r=s(58959),o=s(26420),d=s(48810),c=s(29810),u=s(49611),x=s(67909),h=s(36071),p=s(54731),j=s(17920),m=s(3674),b=s(40691),g=s(83638),f=s(72470),v=s(77979),y=s(38036),E=s(3276),C=s(5091),_=s(41781),w=s(53996),A=s(16426),T=s(99492),S=s(48621),I=s(47412),R=s(19564),k=s(77650),O=s(55729),N=s(24351),P=s(88586),L=s(99038),D=s(68455),M=s(73616);let G=e=>{let{channelName:i,onCreateClick:s}=e;return(0,n.jsx)(w.o,{minH:"sm",children:(0,n.jsx)(a.s,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:(0,n.jsx)(N.p,{size:"md",title:(0,n.jsx)(R.x6,{id:"aywdyd"}),description:(0,n.jsx)(R.x6,{id:"RHyKK4",values:{channelName:i}}),primaryActionLabel:(0,n.jsx)(R.x6,{id:"Oo7YVo"}),onPrimaryAction:s})})})},z=e=>{let{channels:i,workspaceId:s}=e,{leaveChannel:t,joinChannel:x}=(0,M.Z)(),h=(0,O.useCallback)((e,i)=>{e?x({channel:i,workspaceId:s}):t({channel:i})},[x,t,s]);return(0,n.jsxs)(l.B,{spacing:0,children:[0===i.length&&(0,n.jsx)(a.s,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:(0,n.jsx)(N.p,{size:"md",title:(0,n.jsx)(R.x6,{id:"4sY+E7"}),description:(0,n.jsx)(R.x6,{id:"F4lcOJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:L.Ix}})})}),i.length>0&&i.map(e=>{let{members:i,isMember:s,memberCount:t,name:a}=e;return(0,n.jsxs)(r.z,{spacing:4,px:4,py:2,_hover:{bg:"gray.50"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,n.jsx)(o.a,{p:2,color:s?"":"gray.400",children:(0,n.jsx)(S.g,{icon:s?T.QRE:D.$})}),(0,n.jsxs)(r.z,{flex:1,children:[(0,n.jsxs)(l.B,{spacing:0,children:[(0,n.jsx)(d.E,{children:a}),(0,n.jsx)(d.E,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,n.jsx)(R.x6,{id:"tWPlLK",values:{0:t||0}}):(0,n.jsx)(R.x6,{id:"pkIIls",values:{0:t||0}})})]}),(0,n.jsx)(c.h,{}),(0,n.jsx)(I.KZ,{size:"xs",overflowTooltipLabel:k.Ru._({id:"25VyZX"}),avatars:i||[],max:3})]}),(0,n.jsx)(u.$,{w:20,variant:s?"ghost":"plain",size:"sm",onClick:()=>{h(!s,e)},children:s?(0,n.jsx)(R.x6,{id:"Mv8CyJ"}):(0,n.jsx)(R.x6,{id:"0wdd7X"})})]},e.id)})]})},U=e=>{var i;let{isOpen:s,onClose:a,workspaceId:o}=e,[c,T]=(0,O.useState)(""),[S,N]=(0,O.useState)(!1),[L,D]=(0,O.useState)(!1),U=(0,O.useRef)(null),{createChannel:B,createChannelLoading:V,createChannelError:F}=(0,M.Z)(),[H,W]=(0,O.useState)(null),[Q,Y]=(0,O.useState)(!1),[K,$]=(0,O.useState)(!1),{data:X,loading:Z,called:J,fetchMore:q}=(0,P.NVU)({variables:{workspaceId:o,first:20,sortBy:{field:P.ei5.MemberCount,direction:P.UEL.Desc},query:c},skip:!o}),ee=(0,O.useCallback)(e=>{let{value:i}=e.target;Y(!1),W(null),i?T(i):T("")},[]),ei=!!(c&&(null==X?void 0:X.workspaceChannels.edges.length)===0),es=()=>{if(o){if(!c)return void Y(!0);B({input:{name:c,workspaceId:o}}).then(()=>{a()}).catch(e=>{W(e.message)})}};(0,O.useEffect)(()=>{Z||N(ei)},[Z,ei]),(0,O.useEffect)(()=>{!J||Z||L||D(!0)},[J,Z,L]);let en=S&&ei,et=(null==X?void 0:X.workspaceChannels.edges.map(e=>e.node))||[],el=!c,ea=null==X||null==(i=X.workspaceChannels)?void 0:i.pageInfo,er=L&&(null==ea?void 0:ea.hasNextPage)&&(null==ea?void 0:ea.endCursor);return(0,n.jsxs)(x.aF,{isOpen:s,onClose:a,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:U,children:[(0,n.jsx)(h.m,{}),(0,n.jsxs)(p.$,{children:[(0,n.jsx)(j.r,{pb:0,children:(0,n.jsx)(R.x6,{id:"Mxy55o"})}),(0,n.jsxs)(d.E,{px:6,color:"gray.500",mb:2,children:[(0,n.jsx)(R.x6,{id:"/eBcp2"}),"."]}),(0,n.jsx)(m.s,{}),(0,n.jsx)(b.c,{children:(0,n.jsxs)(l.B,{spacing:5,children:[(0,n.jsxs)(r.z,{align:"flex-start",children:[(0,n.jsxs)(g.MJ,{isInvalid:!!F&&c.length>0||!!H||Q,children:[(0,n.jsxs)(f.M,{size:"md",children:[(0,n.jsx)(v.W,{pointerEvents:"none",color:"gray.300",children:(0,n.jsx)(t.W,{})}),(0,n.jsx)(y.p,{value:c,onChange:ee,placeholder:k.Ru._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:U}),Z&&(0,n.jsx)(v.t,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,n.jsx)(E.y,{size:"sm"})})]}),H&&(0,n.jsx)(C.Wt,{children:H}),Q&&(0,n.jsx)(C.Wt,{children:(0,n.jsx)(R.x6,{id:"/Lrnb5"})})]}),(0,n.jsx)(u.$,{w:"300px",variant:"plain",onClick:es,isLoading:V,children:(0,n.jsx)(R.x6,{id:"Oo7YVo"})})]}),(0,n.jsxs)(I._x,{children:[el&&(0,n.jsx)(R.x6,{id:"LOzhoI"}),c&&(0,n.jsx)(R.x6,{id:"mjEyky",values:{0:et.length}})]}),en&&(0,n.jsx)(G,{channelName:c,onCreateClick:es}),!L&&(0,n.jsxs)(l.B,{children:[(0,n.jsx)(_.E,{height:"55px"}),(0,n.jsx)(_.E,{height:"55px"}),(0,n.jsx)(_.E,{height:"55px"}),(0,n.jsx)(_.E,{height:"55px"}),(0,n.jsx)(_.E,{height:"55px"})]}),L&&o&&!en&&(0,n.jsx)(z,{channels:et,workspaceId:o}),er&&(0,n.jsx)(w.o,{p:6,children:(0,n.jsx)(u.$,{isLoading:K,onClick:()=>{$(!0),q({variables:{...0===c.length?{first:50}:{},after:null==ea?void 0:ea.endCursor}}).finally(()=>{$(!1)})},size:"sm",children:(0,n.jsx)(R.x6,{id:"yQ2kGp"})})})]})}),(0,n.jsx)(A.j,{children:(0,n.jsx)(u.$,{variant:"solid",onClick:a,children:(0,n.jsx)(R.x6,{id:"DPfwMq"})})})]})]})};var B=s(27229),V=s(46898),F=s(68013),H=s(78140),W=s(36999),Q=s(16936),Y=s(41283),K=s(85595),$=s(6760),X=s(81278),Z=s.n(X),J=s(82328),q=s(70006),ee=s(61204);let ei=e=>{let{channel:i,workspaceId:s,onClose:t}=e,[l]=(0,P.YYU)(),a=(0,V.d)(),r=(0,O.useCallback)(()=>{if(!s||!(null==i?void 0:i.id))return void console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(s,'" channelId: "').concat(null==i?void 0:i.id,'"'));l({variables:{channelId:i.id,workspaceId:s}}).then(()=>{a({title:(0,n.jsx)(R.x6,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[i,a,l,s]);return(0,n.jsxs)(x.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,n.jsx)(h.m,{}),(0,n.jsxs)(p.$,{children:[(0,n.jsxs)(j.r,{children:["Delete ",i.name,"?"]}),(0,n.jsx)(m.s,{}),(0,n.jsxs)(b.c,{children:[(0,n.jsx)(d.E,{mb:2,children:(0,n.jsx)(R.x6,{id:"IkJ0gO"})}),(0,n.jsx)(d.E,{mb:2,children:(0,n.jsx)(R.x6,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:L.Ix}})}),(0,n.jsx)(d.E,{color:"red.500",children:(0,n.jsx)(R.x6,{id:"2xOCJW"})})]}),(0,n.jsx)(A.j,{children:(0,n.jsxs)(ee.e,{children:[(0,n.jsx)(u.$,{variant:"ghost",onClick:t,children:(0,n.jsx)(R.x6,{id:"dEgA5A"})}),(0,n.jsx)(u.$,{variant:"hazardous",onClick:()=>{r(),t()},children:(0,n.jsx)(R.x6,{id:"NbFtQm"})})]})})]})]})},es=e=>{let{channel:i,workspaceId:s,onClose:t}=e,l=(0,V.d)(),[r,o]=(0,O.useState)(()=>null==i?void 0:i.name),[d,{loading:c}]=(0,P.t1M)(),[f,v]=(0,O.useState)(null),E=(0,O.useCallback)(e=>{o(e.target.value)},[]),_=(0,O.useRef)(null),w=!!f,T=(0,O.useCallback)(()=>{if(!s||!(null==i?void 0:i.id))return void console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(s,'" channelId: "').concat(null==i?void 0:i.id,'"'));d({variables:{input:{id:null==i?void 0:i.id,workspaceId:s,name:r}}}).then(e=>{var s;let{data:a}=e;Z().replace((0,q.gU)({id:null==i?void 0:i.id,slug:null==a?void 0:a.updateChannel.slug})),l({title:(0,n.jsx)(R.x6,{id:"QJd4OZ",values:{0:null==a||null==(s=a.updateChannel)?void 0:s.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),t()}).catch(e=>{v(e.message)})},[s,null==i?void 0:i.id,d,r,l,t]);return(0,n.jsxs)(x.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:_,onClose:t,children:[(0,n.jsx)(h.m,{}),(0,n.jsxs)(p.$,{children:[(0,n.jsx)(j.r,{children:(0,n.jsx)(R.x6,{id:"NZgZhv"})}),(0,n.jsx)(m.s,{}),(0,n.jsx)(b.c,{children:(0,n.jsx)(a.s,{mt:4,w:"100%",direction:"column",children:(0,n.jsxs)(g.MJ,{isInvalid:w,children:[(0,n.jsx)(y.p,{value:r,ref:_,onChange:E,onKeyDown:e=>{"Enter"===e.key&&T()}}),w&&(0,n.jsx)(C.Wt,{children:f})]})})}),(0,n.jsx)(A.j,{children:(0,n.jsxs)(ee.e,{children:[(0,n.jsx)(u.$,{variant:"ghost",onClick:t,children:(0,n.jsx)(R.x6,{id:"dEgA5A"})}),(0,n.jsx)(u.$,{isLoading:c,variant:"solid",onClick:T,children:(0,n.jsx)(R.x6,{id:"2wxgft"})})]})})]})]})},en=e=>{let{channel:i,workspaceId:s}=e,{isOpen:t,onOpen:l,onClose:a}=(0,B.j)({id:"deleteChannelModalDisclosure"}),{isOpen:r,onOpen:o,onClose:d}=(0,B.j)({id:"renameChannelModalDisclosure"}),{push:c}=(0,X.useRouter)(),{leaveChannel:u}=(0,M.Z)(),x=(0,V.d)(),{onCopy:h}=(0,F.i)((0,q.gU)({id:null==i?void 0:i.id,slug:null==i?void 0:i.slug},!1)),{isInOfflineMode:p}=(0,J.u)();return(0,n.jsxs)(H.W,{closeOnSelect:!1,isLazy:!0,children:[(0,n.jsx)(W.I,{as:Q.K,variant:"ghost",fontWeight:"600",color:"gray.600",icon:(0,n.jsx)(S.g,{icon:T.Dwc})}),(0,n.jsxs)(Y.c,{zIndex:"popover",children:[(0,n.jsx)(K.D,{icon:(0,n.jsx)(S.g,{fixedWidth:!0,icon:T.tAZ}),onClick:o,isDisabled:p,children:(0,n.jsx)(R.x6,{id:"NZgZhv"})}),(0,n.jsx)($.N,{}),(0,n.jsx)(K.D,{onClick:()=>{h(),x({title:(0,n.jsx)(R.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,n.jsx)(S.g,{fixedWidth:!0,icon:T.Exz}),children:(0,n.jsx)(R.x6,{id:"alYpud"})}),(0,n.jsx)(K.D,{icon:(0,n.jsx)(S.g,{fixedWidth:!0,icon:T._S}),onClick:()=>{u({channel:i}).then(()=>{c("/")})},isDisabled:p,children:(0,n.jsx)(R.x6,{id:"jC8TAY"})}),(0,n.jsx)($.N,{}),(0,n.jsx)(K.D,{color:"red.500",onClick:l,icon:(0,n.jsx)(S.g,{fixedWidth:!0,icon:T.yLS}),isDisabled:p,children:(0,n.jsx)(R.x6,{id:"NbFtQm"})})]}),r&&(0,n.jsx)(es,{channel:i,workspaceId:s,onClose:d}),t&&(0,n.jsx)(ei,{channel:i,workspaceId:s,onClose:a})]})}},98694:(e,i,s)=>{"use strict";s.d(i,{v:()=>n});let n="ChannelDocDragItemType"}}]);
//# sourceMappingURL=4745-065df92ab96e1ddf.js.map