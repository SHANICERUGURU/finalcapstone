"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8929],{98929:(e,n,t)=>{t.d(n,{ni:()=>J,Lz:()=>L,jh:()=>W});var i=t(6029),s=t(12514),a=t(40452),o=t(64268),r=t(26385),l=t(5221),d=t(99745),u=t(49611),x=t(77364),c=t(99492),m=t(48621),p=t(55729),j=t(5061),v=t(15342),b=t(43634),h=t(29608),O=t(28615),g=t(11403),y=t(6807),f=t(85732),A=t(68986),N=t(19564),M=t(68301),P=t(70006),_=t(99038),k=t(80314),E=t(67604),R=t(47117),w=t(86025),C=t(14900),D=t(95889),S=t(82927),U=t(74003),B=t(55916),G=t(86992),T=t(14322),I=t(65148);let F=[{Component:()=>{let e=(0,M.u)("outageButterbar");if(!e.enabled)return null;let{header:n,text:t,buttonLink:s,buttonText:a,key:o,pathnameRegexp:r}=e;return(0,i.jsx)(W,{definition:{key:o,header:n,text:t,buttonText:a,buttonLink:s,conditions:()=>!r||null!==window.location.pathname.match(new RegExp(r))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,M.u)("openAiStatus")?null:(0,i.jsx)(W,{definition:{key:"ai-service-status",header:(0,i.jsx)(N.x6,{id:"1Agl06"}),text:(0,i.jsx)(N.x6,{id:"cCl6WD"}),ttlInSeconds:86400,conditions:()=>(0,P.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,n,t;let{user:s,currentWorkspace:a}=(0,S.ur)(),{subscription:o,product:r}=(0,U.I)(),{launchFailedPaymentFlow:l,failedPaymentFlowEnabled:d}=(0,w.yf)({subscription:o,workspace:a,autoLaunch:!1});if(!o||!r)return null;let u=G.Qu[r].name,x=(0,G.UJ)(r),{status:c,expirationTime:m,id:p}=o,j=(0,C.Yq)(m,"MMMM do, yyyy"),v=(null==o||null==(e=o.managedByUser)?void 0:e.id)===(null==s?void 0:s.id),b=(0,T.AY)(o.id),h=m>Date.now();if("unpaid"!==c&&"past_due"!==c&&!h)return null;let O=b&&(v||!(null==o?void 0:o.managedByUser))?(0,i.jsx)(N.x6,{id:"velw1T",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:_.On,productName:u},components:{0:(0,i.jsx)(k.N,{href:d?void 0:b,onClick:d?l:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,i.jsx)(N.x6,{id:"9aBOfk",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:_.On,productName:u,0:null==(n=o.managedByUser)?void 0:n.displayName,1:null==(t=o.managedByUser)?void 0:t.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}});return(0,i.jsx)(W,{definition:{key:"payment-overdue-".concat(p),header:(0,i.jsx)(N.x6,{id:"Lac1Vj",values:{GAMMA_PROPER_NOUN:_.On,productName:u}}),text:(0,i.jsxs)(i.Fragment,{children:[x," ",O]}),buttonText:(0,i.jsx)(N.x6,{id:"WLvqZR"}),buttonLink:d?void 0:b,buttonOnClick:d?l:void 0,ttlInSeconds:86400}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:n}=(0,U.I)();if(!e)return null;let{status:t,expirationTime:s,id:a}=e;if(!(new Date>(0,E.A)(s)&&new Date<(0,R.A)((0,E.A)(s),{days:10})))return null;let o=()=>n({segmentEvent:D.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),r=(0,i.jsx)(k.N,{onClick:o,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(N.x6,{id:"mj68q/"})});return(0,i.jsx)(W,{definition:{key:"subscription-expired-".concat(a),header:(0,i.jsx)(N.x6,{id:"0hHZEf",values:{GAMMA_PROPER_NOUN:_.On}}),text:(0,i.jsxs)(i.Fragment,{children:["unpaid"===t||"past_due"===t?(0,i.jsx)(N.x6,{id:"QdgXJv"}):""," ",r]}),buttonText:(0,i.jsx)(N.x6,{id:"kwkhPe"}),buttonOnClick:o}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,n,t;let{user:s}=(0,S.ur)(),{subscription:a,product:o}=(0,U.I)(),{handleReactivate:r,reactivateSubscriptionExplanation:l,canReactivate:d,isReactivating:u}=(0,B.l)(),x=(0,M.u)("reactivateSubscription");if(!a||!o)return null;let{status:c,expirationTime:m,id:p,cancellationRequestedTime:j}=a,v="canceled"!=c&&j&&new Date<(0,E.A)(m)&&new Date>(0,R.A)((0,E.A)(m),{days:-7}),b=(0,G.UJ)(o),h=G.Qu[o].name;if(!v)return null;if(x)return(0,i.jsx)(W,{definition:{key:"subscription-ending-soon-".concat(p,"-").concat(j),header:(0,i.jsx)(N.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:_.On,productName:h}}),text:(0,i.jsxs)(i.Fragment,{children:[b," ",l]}),buttonText:d?u?(0,i.jsx)(N.x6,{id:"DpJOvy"}):(0,i.jsx)(N.x6,{id:"z1z5hv"}):void 0,buttonOnClick:d?r:void 0}});let O=(null==a||null==(e=a.managedByUser)?void 0:e.id)===(null==s?void 0:s.id),g=(0,T.AY)(a.id),y=(0,C.Yq)(m,"MMMM do, yyyy"),f=!O&&(null==a?void 0:a.managedByUser)?(0,i.jsx)(N.x6,{id:"z4DeyC",values:{expirationFormatted:y,GAMMA_PROPER_NOUN:_.On,productName:h,0:null==(n=a.managedByUser)?void 0:n.displayName,1:null==(t=a.managedByUser)?void 0:t.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}}):(0,i.jsx)(N.x6,{id:"qP91+f",values:{expirationFormatted:y,GAMMA_PROPER_NOUN:_.On,productName:h},components:{0:(0,i.jsx)(k.N,{href:g,isExternal:!0,textDecoration:"underline"})}});return(0,i.jsx)(W,{definition:{key:"subscription-ending-soon-".concat(p),header:(0,i.jsx)(N.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:_.On,productName:h}}),text:(0,i.jsxs)(i.Fragment,{children:[b," ",f]}),buttonText:(0,i.jsx)(N.x6,{id:"3jHA5d"}),buttonLink:g}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,i.jsx)(N.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:_.On}}),text:(0,i.jsx)(N.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:_.On}}),conditions:()=>(0,h.Pg)(),dismissKey:I.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,i.jsx)(N.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:_.On}}),text:(0,i.jsx)(N.x6,{id:"Tf7VpJ"}),conditions:()=>z()&&(0,h.bh)(),dismissKey:I.E.lastDismissedPreferredBrowserMessage},{Component:()=>{let{user:e}=(0,S.ur)(),{ssoSettings:n}=e||{},t=(null==n?void 0:n.ssoEmailDomain)||"",s=(null==n?void 0:n.ssoContactEmail)||"",a=(null==n?void 0:n.domainCaptureDate)?(0,C.Yq)(n.domainCaptureDate,"PPP"):"",o={key:"sso-domain-capture-warning",colorScheme:"blue",variant:"subtle",header:(0,i.jsx)(N.x6,{id:"M08ryl"}),text:s?(0,i.jsx)(N.x6,{id:"OOC1CT",values:{domain:t,GAMMA_PROPER_NOUN:_.On,captureDate:a,contactEmail:s},components:{0:(0,i.jsx)("a",{href:"mailto:".concat(s)})}}):(0,i.jsx)(N.x6,{id:"eFsORe",values:{domain:t,GAMMA_PROPER_NOUN:_.On,captureDate:a}}),conditions:()=>{var n;return(null==e||null==(n=e.ssoSettings)?void 0:n.domainCaptureDate)!=null&&(null==e?void 0:e.authProvider)!=="SSO"},dismissKey:I.E.lastDismissedSSODomainCaptureWarning,ttlInSeconds:604800};return(0,i.jsx)(W,{definition:o})},key:"sso-domain-capture-warning",dismissKey:I.E.lastDismissedSSODomainCaptureWarning}],z=()=>(0,h.z3)()||!(0,h.H8)()&&!(0,h.nr)()&&!(0,h.yE)(),J=e=>{let{isViewOnly:n}=e,t=(0,g.En)(),o=(0,v.GV)(b.VJ);if(n||!t||(0,h.rA)()||O.D1||(0,f.NF)()||o)return null;let r=F.map(e=>"Component"in e?(0,i.jsx)(e.Component,{},e.key):(0,i.jsx)(W,{definition:e},e.key));return(0,i.jsx)(s.Z,{children:(0,i.jsx)(a.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:r})})},L=e=>{let{colorScheme:n="orange",variant:t="solid",header:s,text:p,buttonText:j,buttonLink:v,buttonOnClick:b,onClose:h,...O}=e,g=j&&(v||b),y=b||(v?()=>window.open(v,"_blank"):void 0),f=v&&!b;return(0,i.jsxs)(o.F,{gap:2,shadow:"lg",width:{base:"calc(100% - 1rem)",lg:"min(60vw, 1000px)"},flexDirection:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},colorScheme:n,variant:t,boxShadow:"lg",...O,children:[(0,i.jsxs)(r.B,{spacing:0,flex:1,pe:{base:12,lg:0},children:[(0,i.jsx)(l.X,{children:s}),(0,i.jsx)(d.T,{lineHeight:"base",fontSize:"xs",children:p})]}),g&&(0,i.jsx)(u.$,{flexShrink:0,variant:"plain",size:"xs",rightIcon:f?(0,i.jsx)(m.g,{size:"sm",icon:c.Ju_,fixedWidth:!0}):void 0,onClick:y,children:j}),(0,i.jsx)(a.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},insetEnd:4,top:4,children:(0,i.jsx)(x.J,{size:"sm",onClick:h,colorScheme:"subtle"===t?n:"whiteAlpha"})})]})},W=e=>{let{definition:n}=e,{key:t,dismissKey:s="butterbar-dismiss-".concat(t),conditions:a,ttlInSeconds:o,header:r,text:l,buttonText:d,buttonLink:u,buttonOnClick:x,colorScheme:c,variant:m}=n,[v,b]=(0,y.M)(s,!1),h=(0,j.fW)();return((0,p.useEffect)(()=>{if(o&&v)new Date().getTime()-new Date(v).getTime()>1e3*o&&A.x.removeItem(s)},[s,v,o]),a&&!a()||v)?null:(0,i.jsx)(L,{colorScheme:c,variant:m,header:r,text:l,buttonText:d,buttonLink:u,buttonOnClick:x,onClose:()=>{b(String(new Date))},position:"fixed",insetStart:"50%",transform:"translateX(".concat(h?"50%":"-50%",")")})}}}]);
//# sourceMappingURL=8929-438d3e71e3a6fee5.js.map